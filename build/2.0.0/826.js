"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[826],{4826:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(9196),s=a(5634),r=a(9307),o=a(9818),i=a(4403),c=a(2200),l=a(8707),g=a(7625),d=a(2819),p=a(5289);const h=()=>{const[e,t]=(0,r.useState)(!1),[a,h]=(0,r.useState)(!1),{setIsHeaderEnabled:y,setHeaderActiveView:m,setDrawerActiveView:u,setHideFooterNav:b,setCurrentOnboardingData:f}=(0,o.useDispatch)(i.h),{currentData:v}=(0,o.useSelect)((e=>({currentData:e(i.h).getCurrentOnboardingData()})));return(0,r.useEffect)((()=>{y(!0),m(c.G5),u(!1),(async()=>{b(!0),y(!0),m(c.G5),u(!1);const e=v.sitegen.homepages.active;t(e);const a=await(0,g.oC)();h(a.body)})(),(async()=>{!1===v?.sitegen?.sitemapPagesGenerated&&((await(0,p.A9)(v.sitegen.siteDetails.prompt)).error||(v.sitegen.sitemapPagesGenerated=!0,f(v)))})()}),[]),(0,r.useEffect)((()=>{v?.sitegen?.homepages?.active&&t(v.sitegen.homepages.active)}),[v]),(0,n.createElement)(s.Z,{isCentered:!0,className:"nfd-onboarding-step--site-gen__editor"},(0,n.createElement)("div",{className:"nfd-onboarding-step--site-gen__editor__live-preview"},(()=>{if(!e||!a)return(0,n.createElement)(n.Fragment,null);let t=(0,d.cloneDeep)(a[0]);t.settings.color.palette=e.color.palette,e?.styles?.blocks?.length>0&&(t=(t=>{const a=e.styles.blocks[0];return a["core/heading"]&&(t.styles.blocks["core/heading"].typography.fontFamily=a["core/heading"].typography.fontFamily),a["core/body"]&&(t.styles.typography.fontFamily=a["core/body"].typography.fontFamily),t})(t));let s="";return["header","content","footer"].forEach((t=>{t in e&&(s+=e[t])})),(0,n.createElement)(l.i5,{blockGrammer:s,styling:"custom",previewSettings:t,viewportWidth:1300,skeletonLoadingTime:0})})()))}}}]);
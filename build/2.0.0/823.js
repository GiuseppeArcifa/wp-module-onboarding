(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[823],{1230:(e,t)=>{(()=>{var e={537:(e,t)=>{!function(){"use strict";var e={d:function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{NewfoldRuntime:function(){return a}});var o=window.wp.url;const a={hasCapability:e=>!0===window.NewfoldRuntime?.capabilities[e],adminUrl:e=>window.NewfoldRuntime?.admin_url+e,createApiUrl:(e,t={})=>(0,o.addQueryArgs)(window.NewfoldRuntime?.base_url,{rest_route:e,...t}),get siteDetails(){return window.NewfoldRuntime?.site},get sdk(){return window.NewfoldRuntime?.sdk},get isWoo(){return window.NewfoldRuntime?.isWoocommerceActive},get ecommerce(){return window.NewfoldRuntime?.ecommerce},get plugin(){return window.NewfoldRuntime?.plugin},get wpversion(){return window.NewfoldRuntime?.wpversion},get siteTitle(){return window.NewfoldRuntime?.siteTitle}};var i=t;for(var r in n)i[r]=n[r];n.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})}()},967:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=r(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)o.call(e,n)&&e[n]&&(t=r(t,n));return t}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()}},n={};function o(t){var a=n[t];if(void 0!==a)return a.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{"use strict";o.r(a),o.d(a,{FacebookConnectButton:()=>p,FacebookConnectPluginView:()=>f,facebookConnectHelper:()=>m,getFacebookUserProfileDetails:()=>l});const e=window.React,t=window.wp.components,n=window.wp.apiFetch;var i=o.n(n),r=o(537);const c={facebook_module:{base_url:"https://graph.facebook.com/v18.0",debug_token:"/debug_token",token_phrase:"secret_token_phrase"},wordpress:{access:r.NewfoldRuntime.createApiUrl("/newfold-facebook/v1/facebook/hiive"),fb_token:r.NewfoldRuntime.createApiUrl("/newfold-facebook/v1/facebook/fb_token"),facebook_details:r.NewfoldRuntime.createApiUrl("/newfold-facebook/v1/facebook/details"),facebook_logout:r.NewfoldRuntime.createApiUrl("/newfold-facebook/v1/facebook/logout")},cf_worker:{login_screen:"https://hiive.cloud/workers/facebook-connect/",get_token:"https://hiive.cloud/workers/facebook-connect/get/token?hiive_token=",delete_token:"https://hiive.cloud/workers/facebook-connect/delete/token?hiive_token="}},l=()=>i()({url:c.wordpress.facebook_details}).then((e=>{if(e?.details?.error)throw{message:"failed to load the data",error:e?.details?.error};return e?.details})).catch((e=>{throw{message:"failed to load the data",errorMsg:e}})),s=window.wp.i18n;var d=o(967),u=o.n(d);const p=({className:n,children:o,showData:a,onConnect:r,onDisconnect:d,onFailure:p,onClick:f})=>{const[m,w]=(0,e.useState)(""),[g,_]=(0,e.useState)(!1),[b,h]=(0,e.useState)([]),[k,v]=(0,e.useState)(!1),y=(e=1)=>{l().then((t=>{e++,"token not found!"!==t?(_(!0),h(t),v(!1),"function"==typeof r&&r(t)):e<2?setTimeout((()=>{y(),v(!0)}),6e3):v(!1)})).catch((()=>i()({url:c.wordpress.access}).then((e=>{l().then((e=>{"token not found!"!==e&&(_(!0),h(e),v(!1),"function"==typeof r&&r(e)),v(!1)})).catch((e=>{v(!1),"function"==typeof p&&p(e),console.error(e)})),w(e.token)})).catch((e=>{v(!1),"function"==typeof p&&p(e),console.error(e)}))))};return(0,e.useEffect)((()=>{!m&&i()({url:c.wordpress.access}).then((e=>{e.token&&w(e.token)})),y(1)}),[]),(0,e.createElement)("div",null,g?(0,e.createElement)("div",null,(0,e.createElement)(t.Button,{className:u()("nfd-facebook-button--connected",`${n}--connected`)},(0,s.__)("Connected","wp-module-facebook")),a&&(0,e.createElement)("div",null,b?.map((t=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("ul",{style:{paddingTop:"20px"}},(0,e.createElement)("li",null,(0,e.createElement)("p",null,"Facebook ID: ",t?.User?.profile?.id)),(0,e.createElement)("li",null,(0,e.createElement)("p",null,"User Name: ",t?.User?.profile?.name)),(0,e.createElement)("li",null,(0,e.createElement)("p",null,"User Email: ",t?.User?.profile?.email)),(0,e.createElement)("li",null,(0,e.createElement)("p",null,"Profile pic:",t?.User?.profile?.picture?.data?.url))),(0,e.createElement)("img",{src:`https://graph.facebook.com/${t?.id}/picture?type=small`,height:t?.picture?.height,width:t?.picture?.width})))))):(0,e.createElement)(t.Button,{type:"submit",disabled:k,className:u()("nfd-facebook-button--connect",`${n}--connect`),onClick:()=>(()=>{const e=window.open(`${c.cf_worker.login_screen}?token_hiive=${m}&redirect=${window.location.href}`,"ModalPopUp",`toolbar=no,scrollbars=no,location=no,width=${window.innerWidth/2+200},height=${window.innerHeight/2+200},top=200,left=200`),t=setInterval((()=>{e?.closed&&(v(!0),clearInterval(t),setTimeout((()=>{y(0)}),1e4))}),1e4);"function"==typeof f&&f()})()},o,(0,s.__)("Connect Facebook","wp-module-facebook"),k&&(0,e.createElement)(t.Spinner,null)))},f=({fbLogin:n,loginInfo:o,getFbDetails:a})=>{const[r,l]=(0,e.useState)(!1);return(0,e.useEffect)((()=>l(!1)),[]),n&&(0,e.createElement)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingTop:"20px"}},(0,e.createElement)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"30px",width:"30px",fill:"#405795",viewBox:"0 0 24 24",style:{marginRight:"10px"}},(0,e.createElement)("path",{d:"M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"})),(0,e.createElement)("p",{style:{fontSize:"0.9rem",fontWeight:"600",paddingLeft:"15px"}},"Facebook -",(0,e.createElement)("span",{style:{fontWeight:"normal"}},o?.user?.profile?.email))),r?(0,e.createElement)(t.Spinner,null):(0,e.createElement)("button",{style:{color:"#286BDE"},onClick:()=>(async()=>{l(!0),await i()({url:c.wordpress.facebook_logout}).then((e=>e)).catch((e=>{throw{message:"failed to load the data",errorMsg:e}})).then((()=>{a()})),l(!1)})()},"Disconnect"))},m=async e=>{let t="",n=null,o=[];const a=()=>i()({url:c.wordpress.access}).then((e=>{i()({url:`${c.wordpress.fb_token}`,headers:{method:"GET","content-type":"application/json","Accept-Encoding":"gzip, deflate, br","Access-Control-Allow-Origin":"*"}}).then((e=>{var t;e.token&&(t=e.token,i()({url:c.wordpress.settings,method:"post",data:{fb_token:t}}).then((e=>e)).catch((e=>{console.error(e)})),n=e.token)})).catch((e=>{console.error(e)})),t=e.token})).catch((e=>{console.error(e)}));await a(),await i()({url:c.wordpress.fb_token}).then((async i=>{if(i?.fb_token)await l().then((e=>(n=i.fb_token,o=[e],o)));else{const n=window.open(`${c.cf_worker.login_screen}?token_hiive=${t}&redirect=${window.location.href}`,"ModalPopUp",`toolbar=no,scrollbars=no,location=no,width=${window.innerWidth/2+200},height=${window.innerHeight/2+200},top=200,left=200`),o=setInterval((async function(){n?.closed&&(clearInterval(o),await a(),e())}),1e3)}}))}})();var i=t;for(var r in a)i[r]=a[r];a.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})()},9978:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var o=n(9196),a=n(3967),i=n.n(a),r=n(9250),c=n(9818),l=n(5609),s=n(1984),d=n(5024),u=n(4403);const p=({text:e,className:t,callback:n=null,disabled:a=!1,showChevronRight:p=!0})=>{const f=(0,r.s0)(),{nextStep:m}=(0,c.useSelect)((e=>({nextStep:e(u.h).getNextStep()})));return(0,o.createElement)(l.Button,{className:i()("nfd-onboarding-button--site-gen-next",{"nfd-onboarding-button--site-gen-next--disabled":a},t),onClick:()=>{a||(n&&"function"==typeof n&&n(),m&&f(m.path))}},(0,o.createElement)("p",{className:"nfd-onboarding-button--site-gen-next--text"},e),p&&(0,o.createElement)(s.Z,{className:"nfd-onboarding-button--site-gen-next--icon",icon:d.Z}))}},3467:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(9196),a=n(9307),i=n(3926);const r=(0,a.memo)((({title:e})=>(0,o.createElement)("div",{className:"ai-heading"},(0,o.createElement)(i.Z,{height:"40px"}),(0,o.createElement)("div",{className:"ai-heading--title"},e))))},3926:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var o=n(9196),a=n(9307);const i=({height:e="80px"})=>{const t={"--wnd-ai-logo-size":e,height:`var(--wnd-ai-logo-size, ${e})`};return(0,a.useEffect)((()=>{document.querySelectorAll("[data-wnd-ai-logo]").forEach((function(e){let t=!1,n=null;const o=()=>{t?document.body.classList.add("wnd-ai-logo-keydown"):document.body.classList.remove("wnd-ai-logo-keydown"),n=null};e.addEventListener("keydown",(function(){t||(t=!0,n||(n=window.requestAnimationFrame(o)))})),e.addEventListener("keyup",(function(){t=!1,n||(n=window.requestAnimationFrame(o))}))}))}),[]),(0,o.createElement)("span",{className:"wnd-ai-logo",style:t},(0,o.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--bg"}),(0,o.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--1"}),(0,o.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--2"}),(0,o.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--3"}),(0,o.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--4"}),(0,o.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--5"}),(0,o.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--6"}),(0,o.createElement)("span",{className:"wnd-ai-logo__spinner"}))}},676:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var o=n(9196),a=n(5736),i=n(9307),r=n(5609),c=n(9818),l=n(9250),s=n(7207),d=n(7533),u=n(4403),p=n(8395),f=n(2200),m=n(6342),w=n(3967),g=n.n(w);const _=(0,i.memo)((({callback:e=!1,className:t,text:n})=>{const i=(0,l.s0)(),w=(0,l.TH)(),{nextStep:_,currentData:b,socialData:h}=(0,c.useSelect)((e=>({nextStep:e(u.h).getNextStep(),currentData:e(u.h).getCurrentOnboardingData(),socialData:e(u.h).getOnboardingSocialData()})),[]),k=null===_||!1===_,{setOnboardingSocialData:v}=(0,c.useDispatch)(u.h);return(0,o.createElement)(r.Button,{className:g()("skip-button",t),onClick:k?()=>async function(e){if(b){if(b.isComplete=(new Date).getTime(),e?.includes("basic-info")){const e=await async function(){const e=await(0,p.Gw)(),t=await(0,p.I2)(h);return null!==t?.error?e?.body:t?.body}();e&&v(e),await s.v.dispatchEvents(m.En)}(0,d.kB)(b)}window.location.replace(f.br)}(w.pathname):()=>("function"==typeof e&&e(),void i(_.path))},n||(0,a.__)("Skip this Step","wp-module-onboarding"))}))},2823:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var o=n(9196),a=n(9818),i=n(9307),r=n(4333),c=n(5736);var l=n(2200),s=n(676),d=n(4403),u=n(5634),p=n(3467),f=n(9978),m=n(1230),w=n(9250);const g=(0,i.memo)((()=>{const e=(0,r.useViewportMatch)("small"),t=(0,w.s0)(),[n,g]=(0,i.useState)(!1),[_,b]=(0,i.useState)(!1),{setIsHeaderEnabled:h,setSidebarActiveView:k,setHeaderActiveView:v,setDrawerActiveView:y}=(0,a.useDispatch)(d.h);(0,i.useEffect)((()=>{h(!0),k(!1),v(l.G5),y(!1)}));const{nextStep:E}=(0,a.useSelect)((e=>({nextStep:e(d.h).getNextStep()})));(0,i.useEffect)((()=>{_&&n&&t(E.path)}),[_,n]);const N={heading:(0,c.__)("Do you want to include any content from Facebook?","wp-module-onboarding"),facebookTitle:(0,c.__)("Connect a Facebook Account","wp-module-onboarding"),facebookDesc:(0,c.__)("By connecting a Facebook profile, we can fetch relevant data to increase the accuracy of your AI generated site.","wp-module-onboarding"),facebookButton:(0,c.__)("Connect Facebook","wp-module-onboarding"),buttons:{skip:(0,c.__)("Skip for now","wp-module-onboarding"),next:(0,c.__)("Next","wp-module-onboarding")}};return(0,o.createElement)(u.Z,{isCentered:!0,className:"nfd-onboarding-step--site-gen__social-media"},(0,o.createElement)("div",{className:"nfd-onboarding-step--site-gen__social-media__container"},(0,o.createElement)(p.Z,{title:N.heading}),(0,o.createElement)("div",{className:"nfd-onboarding-step--site-gen__social-media__contain "},(0,o.createElement)("div",{className:"nfd-onboarding-step--site-gen__social-media__contain__containleft "},(0,o.createElement)("span",null,N.facebookTitle),(0,o.createElement)("p",null,N.facebookDesc)),(0,o.createElement)("div",{className:"nfd-onboarding-step--site-gen__social-media__contain__containright "},(0,o.createElement)(m.FacebookConnectButton,{className:"nfd-onboarding-step--site-gen__social-media__contain__containright__button",onConnect:()=>{g(!0)},onClick:()=>b(!0)},(0,o.createElement)("i",{className:"nfd-onboarding-step--site-gen__social-media__contain__containright__button__icon"})))),(0,o.createElement)("div",{className:"nfd-onboarding-step--site-gen__social-media__container__buttons"},(0,o.createElement)(s.Z,{className:"nfd-onboarding-step--site-gen__social-media__container__buttons__skip",text:N.buttons.skip}),e&&(0,o.createElement)(f.Z,{text:N.buttons.next,disabled:!n}))))}))}}]);
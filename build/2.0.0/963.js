"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[963],{4963:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var a=n(9196),o=n(9307),l=n(9818),s=n(5609),_=n(4403),r=n(5736);const c=({baseClassName:e,group:t,selectedGroup:n,handleGroupSelect:o})=>(0,a.createElement)("div",{className:`${e}__font-group__container`,key:t.id},(0,a.createElement)("div",{className:`${e}__font-group__container__button`,role:"presentation",onClick:()=>o(t.id)},(0,a.createElement)("span",{className:`${e}__font-group__container__button__icon${n===t.id?" selected":""}`}),(0,a.createElement)("div",{className:`${e}__font-group__container__button__font-name__container`},(0,a.createElement)("span",{className:`${e}__font-group__container__button__font-name__container__heading`,style:{fontFamily:t.headings}},t.headings),(0,a.createElement)("br",null),(0,a.createElement)("span",{className:`${e}__font-group__container__button__font-name__container__body`,style:{fontFamily:t.body}},t.body)),0===t.id&&(0,a.createElement)("span",{className:"default"},(0,r.__)("Default","wp-module-onboarding")))),m=({baseClassName:e,customFont:t,setCustomFont:n,handleCancelCustomFonts:o,handleApplyCustomFonts:l,renderFontOptions:_})=>(0,a.createElement)("div",{className:`${e}__fonts-form__container`},(0,a.createElement)("h5",{className:`${e}__heading`},(0,r.__)("CUSTOM FONTS","wp-module-onboarding")),(0,a.createElement)("div",null,(0,a.createElement)("div",null,(0,a.createElement)("div",null,(0,a.createElement)("span",{htmlFor:"headings"},(0,r.__)("Headings","wp-module-onboarding")),(0,a.createElement)("br",null),(0,a.createElement)("select",{id:"headings",value:t.headings,onChange:e=>n({...t,headings:e.target.value})},(0,a.createElement)("option",null,"select"),_())),(0,a.createElement)("div",null,(0,a.createElement)("span",{htmlFor:"body"},(0,r.__)("Body","wp-module-onboarding")),(0,a.createElement)("br",null),(0,a.createElement)("select",{id:"body",value:t.body,onChange:e=>n({...t,body:e.target.value})},(0,a.createElement)("option",null,(0,r.__)("select","wp-module-onboarding")),_()))),(0,a.createElement)("div",{className:`${e}__fonts-form__container__button__container`},(0,a.createElement)(s.Button,{className:"cancel",onClick:()=>o()},(0,r.__)("Cancel","wp-module-onboarding")),(0,a.createElement)(s.Button,{className:"apply",onClick:l,variant:"primary"},(0,r.__)("Apply","wp-module-onboarding"))))),i=({baseClassName:e,selectedGroup:t,selectedCustomFont:n,handleGroupSelect:o,handleEditCustomFont:l})=>(0,a.createElement)("div",{className:`${e}__custom-fonts__container`},(0,a.createElement)("div",{className:`${e}__custom-fonts__container__header`},(0,a.createElement)("h5",{className:`${e}__heading`},(0,a.createElement)("span",null,(0,r.__)("CUSTOM FONTS","wp-module-onboarding"))),(0,a.createElement)("button",{onClick:()=>l()},(0,r.__)("Edit fonts","wp-module-onboarding"))),(0,a.createElement)("div",{className:`${e}__font-group__container`},(0,a.createElement)("div",{className:`${e}__font-group__container__button`,role:"presentation",onClick:()=>o("custom")},(0,a.createElement)("span",{className:`${e}__font-group__container__button__icon${"custom"===t?" selected":""}`}),(0,a.createElement)("div",{className:`${e}__font-group__container__button__font-name__container`},(0,a.createElement)("span",{className:`${e}__font-group__container__button__font-name__container__heading`,style:{fontFamily:n.headings}},n.headings),(0,a.createElement)("br",null),(0,a.createElement)("span",{className:`${e}__font-group__container__button__font-name__container__body`,style:{fontFamily:n.body}},n.body))))),d=(0,a.forwardRef)((({baseClassName:e="nfd-onboarding-sidebar--customize__design-fonts-panel"},t)=>{const n=()=>{d(),E(null),C(!1),F(null)},d=(e="",t="")=>{const n=u.sitegen?.homepages?.active?.slug,a={blocks:[{"core/heading":{typography:{fontFamily:e}},"core/body":{typography:{fontFamily:t}}}]};n&&(u.sitegen.homepages.data[n]={...u.sitegen.homepages.data[n],styles:a},u.sitegen.homepages.active={...u.sitegen.homepages.active,styles:a},b(u))};(0,a.useImperativeHandle)(t,(()=>({resetToDefaultFonts:n})));const{currentData:u,customizeSidebarData:p}=(0,l.useSelect)((e=>({customizeSidebarData:e(_.h).getCustomizeSidebarData(),currentData:e(_.h).getCurrentOnboardingData()}))),g=p?.designStyles,{setCurrentOnboardingData:b}=(0,l.useDispatch)(_.h),f=g.map(((e,t)=>({id:t,headings:e.font_heading_name||e.font_heading,body:e.font_content_name||e.font_content,headingsSlug:e.font_heading,bodySlug:e.font_content}))),[h,E]=(0,o.useState)(null),[y,C]=(0,o.useState)(!1),[N,v]=(0,o.useState)({headings:"",body:""}),[$,F]=(0,o.useState)(null),[w,S]=(0,o.useState)(!1),k=g?.map((e=>e.font_heading)),O=g?.map((e=>e.font_content));(0,o.useEffect)((()=>{null!=h&&(()=>{let e,t;"custom"===h?(e=`var(--wp--preset--font-family--${N.headings})`,t=`var(--wp--preset--font-family--${N.body})`):(e=`var(--wp--preset--font-family--${f[h].headings})`,t=`var(--wp--preset--font-family--${f[h].body})`),d(e,t)})()}),[h,N]);const D=[...new Set([...k,...O])],G=e=>{"custom"!==e&&$&&C(!1),E(e)};return(0,a.createElement)(s.PanelBody,{className:e,initialOpen:!0},(0,a.createElement)(s.PanelRow,null,(0,a.createElement)("div",{className:`${e}__container`},(0,a.createElement)("div",{className:`${e}__container__text`},(0,a.createElement)("p",{className:`${e}__container__text__heading`},(0,a.createElement)("strong",null,(0,r.__)("Fonts","wp-module-onboarding")))),(0,a.createElement)("div",null,f.map((t=>(0,a.createElement)(c,{baseClassName:e,key:t.id,group:t,selectedGroup:h,handleGroupSelect:G})))))),(0,a.createElement)(s.PanelRow,null,!y&&(0,a.createElement)("div",{className:`${e}__container`},(0,a.createElement)(s.Button,{onClick:()=>{C(!0),$||S(!0)}},(0,r.__)("Select your own fonts","wp-module-onboarding"))),y&&w&&(0,a.createElement)(m,{baseClassName:e,customFont:N,setCustomFont:v,handleCancelCustomFonts:()=>{$?S(!1):C(!1)},handleApplyCustomFonts:()=>{E(null),F(N),S(!1),E("custom")},renderFontOptions:()=>D.map((e=>(0,a.createElement)("option",{key:e,value:e},e)))}),y&&!w&&(0,a.createElement)(i,{baseClassName:e,selectedGroup:h,selectedCustomFont:$,handleGroupSelect:G,handleEditCustomFont:()=>{S(!0)}})))}))}}]);
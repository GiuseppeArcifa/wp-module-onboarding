"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[287],{7673:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(1609),o=n(8468);const r=({height:e="80px"})=>{const t={"--wnd-ai-logo-size":e,height:`var(--wnd-ai-logo-size, ${e})`};return(0,o.useEffect)((()=>{document.querySelectorAll("[data-wnd-ai-logo]").forEach((function(e){let t=!1,n=null;const a=()=>{t?document.body.classList.add("wnd-ai-logo-keydown"):document.body.classList.remove("wnd-ai-logo-keydown"),n=null};e.addEventListener("keydown",(function(){t||(t=!0,n||(n=window.requestAnimationFrame(a)))})),e.addEventListener("keyup",(function(){t=!1,n||(n=window.requestAnimationFrame(a))}))}))}),[]),(0,a.createElement)("span",{className:"wnd-ai-logo",style:t},(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--bg"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--1"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--2"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--3"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--4"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--5"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--6"}),(0,a.createElement)("span",{className:"wnd-ai-logo__spinner"}))}},8844:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(1609),o=n(8468),r=n(7143),i=n(7675),s=n(1056),l=n(2202),d=n(8744),c=n(9491),_=n(7723);var g=n(6427),u=n(3988),m=n(7673),b=n(2940),p=n(7835),w=n(148),f=n(8969);const E=()=>{const e=(0,w.Zp)(),{setIsHeaderEnabled:t,setSidebarActiveView:n,setHeaderActiveView:s,setDrawerActiveView:l,setHideFooterNav:E,setIsHeaderNavigationEnabled:h,updateAllSteps:v,updateTopSteps:N,updateRoutes:S,updateDesignRoutes:y,updateInitialize:k,setCurrentOnboardingData:x,updateSiteGenErrorStatus:A}=(0,r.useDispatch)(i.M);(0,o.useEffect)((()=>{E(!0),t(!0),n(!1),s(f.Ix),h(!0),l(!1)}));const{brandConfig:C,currentData:D}=(0,r.useSelect)((e=>({brandConfig:e(i.M).getNewfoldBrandConfig(),currentData:e(i.M).getCurrentOnboardingData()}))),I=(0,c.useViewportMatch)("small"),F={heading:(0,_.__)("Sorry, we're having trouble communicating with our AI service.","wp-module-onboarding"),subHeading:(0,_.__)("Do you keep getting this error?","wp-module-onboarding"),message:(0,_.__)("If you continue to get this error, you may either continue creating your site without using our AI assistant, or you can ","wp-module-onboarding"),buttonText:(0,_.__)("Try again","wp-module-onboarding"),buttonSkip:(0,_.__)("Continue without AI","wp-module-onboarding"),buttonExit:(0,_.__)("exit to WordPress","wp-module-onboarding")},M=window.nfdOnboarding?.oldFlow?window.nfdOnboarding.oldFlow:d.rA,O=()=>{A(!1)};return(0,a.createElement)(u.A,{className:"nfd-onboarding-step--site-gen__error"},(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container"},(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container__orb"},(0,a.createElement)(m.A,{height:"100px"})),(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container__heading"},(0,a.createElement)("p",{className:"nfd-onboarding-step--site-gen__error__container__heading__text"},F.heading)),(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container__sub-heading"},(0,a.createElement)("p",{className:"nfd-onboarding-step--site-gen__error__container__sub-heading__text"},F.subHeading),(0,a.createElement)("p",{className:"nfd-onboarding-step--site-gen__error__container__sub-heading__message"},F.message,(0,a.createElement)("a",{className:"nfd-onboarding-step--site-gen__error__container__sub-heading__exit",href:f.R0},F.buttonExit))),(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container__buttons"},(0,a.createElement)(g.Button,{className:"nfd-onboarding-step--site-gen__error__container__buttons__skip",onClick:()=>{(t=>{if(!(0,b.nC)(C,t))return!1;const n=window.nfdOnboarding.currentFlow,a=(0,p.Sg)(t)();v(a.steps),N(a?.topSteps),S(a.routes),y(a?.designRoutes),d.d0!==n&&(window.nfdOnboarding.oldFlow=n),window.nfdOnboarding.currentFlow=t,D.activeFlow=t,D.continueWithoutAi=!0,x(D),A(!1),d.d0!==t&&k(!0),e(a.steps[1].path)})(M)}},F.buttonSkip),I?(0,a.createElement)(g.Button,{className:"nfd-onboarding-step--site-gen__error__container__buttons__retry",onClick:()=>{O()}},(0,a.createElement)("p",{className:"nfd-onboarding-button--site-gen-next--text"},F.buttonText)):(0,a.createElement)(g.Fill,{name:`${f.Sr}/${f.gb}`},(0,a.createElement)(g.Button,{className:"nfd-onboarding-step--site-gen__error__container__buttons__retry",onClick:()=>{O()}},(0,a.createElement)("p",{className:"nfd-onboarding-button--site-gen-next--text"},F.buttonText))))))},h=({children:e})=>{const{siteGenErrorStatus:t}=(0,r.useSelect)((e=>({siteGenErrorStatus:e(i.M).getSiteGenErrorStatus()})));return(0,o.useEffect)((()=>{!0===t&&(0,s.v)(new s.iC(l.cW,void 0,{source:d.d0}))}),[t]),(0,a.createElement)(o.Fragment,null,t?(0,a.createElement)(E,null):e)}},5287:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var a=n(1609),o=n(7143),r=n(8468),i=n(7723);var s=n(8969),l=n(7675),d=n(3988),c=n(6942),_=n.n(c),g=n(7677),u=n(6655);const m=(0,r.memo)((({idx:e,title:t,desc:n,isSelected:o,callback:r})=>(0,a.createElement)("div",{key:e,role:"button",tabIndex:0,className:"nfd__option_heading_subheading",onClick:()=>{r&&"function"==typeof r&&r(e+1)},onKeyDown:()=>{r&&"function"==typeof r&&r(e+1)}},(0,a.createElement)("div",{className:_()("nfd__option_heading_subheading__wrapper",o&&"nfd__option_heading_subheading__wrapper--selected")},(0,a.createElement)("div",{className:"nfd__option_heading_subheading__left"},(0,a.createElement)("div",{className:"nfd__option_heading_subheading__left_top"},t),(0,a.createElement)("div",{className:"nfd__option_heading_subheading__left_bottom"},n)),(0,a.createElement)(g.A,{className:"nfd__option_heading_subheading__right",icon:u.A}))))),b=(0,r.memo)((({title:e,options:t,selection:n,callback:o})=>(0,a.createElement)("div",{className:"nfd-sg-card"},(0,a.createElement)("div",{className:"nfd-sg-card__title"},e),(0,a.createElement)("div",{className:"nfd-sg-card__data"},t.map(((e,t)=>(0,a.createElement)(m,{key:t,idx:t,title:e.title,desc:e.desc,isSelected:e.key===n,callback:o})))))));var p=n(148);const w=(0,r.memo)((({customNavPercentage:e,watcher:t=null})=>{let n=0;const s={title:(0,i.__)("Building Website","wp-module-onboarding"),status:[{title:(0,i.__)("Generating Website","wp-module-onboarding")},{title:(0,i.__)("Finding Font Pairings","wp-module-onboarding")},{title:(0,i.__)("Building Custom Color Palettes","wp-module-onboarding")},{title:(0,i.__)("Populating Images","wp-module-onboarding")},{title:(0,i.__)("Finalizing Previews","wp-module-onboarding")},{title:(0,i.__)("Packaging Website","wp-module-onboarding")}]},d=(0,p.Zp)(),[c,_]=(0,r.useState)(0),[g,u]=(0,r.useState)(s.status[n].title),{currentData:m,nextStep:b}=(0,o.useSelect)((e=>({currentData:e(l.M).getCurrentOnboardingData(),nextStep:e(l.M).getNextStep()})));return(0,r.useEffect)((()=>{const e=setInterval((()=>{n+=1,n===s.status.length&&(n=0),u(s.status[n].title)}),3e3);return()=>{clearInterval(e)}}),[]),(0,r.useEffect)((()=>{_(m?.sitegen?.siteGenMetaStatus?.currentStatus/m?.sitegen?.siteGenMetaStatus?.totalCount*100)}),[m?.sitegen?.siteGenMetaStatus?.currentStatus]),(0,r.useEffect)((()=>{if(c===e&&b){if(null!==t&&!1===t)return;d(b.path)}}),[c,t]),(0,a.createElement)("div",{className:"nfd-sg-loader"},(0,a.createElement)("div",{className:"nfd-sg-loader__title"},s.title),(0,a.createElement)("div",{className:"nfd-sg-loader__progress"},(0,a.createElement)("div",{className:"nfd-sg-loader__progress_bars"},(0,a.createElement)("div",{className:"nfd-sg-loader__progress_bars_bg"}),(0,a.createElement)("div",{className:"nfd-sg-loader__progress_bars_bar",style:{width:`${c}%`}}))),(0,a.createElement)("div",{className:"nfd-sg-loader__status"},`${g}...`))}));var f=n(8844),E=n(1056),h=n(2202),v=n(8744);const N=()=>{const e={heading:(0,i.__)("How familiar are you with using WordPress?","wp-module-onboarding"),options:[{key:1,title:(0,i.__)("Beginner","wp-module-onboarding"),desc:(0,i.__)("First time building a website using WordPress","wp-module-onboarding")},{key:2,title:(0,i.__)("Intermediate","wp-module-onboarding"),desc:(0,i.__)("Iâ€™ve built a few sites for myself or others","wp-module-onboarding")},{key:3,title:(0,i.__)("Expert","wp-module-onboarding"),desc:(0,i.__)("I do this frequently","wp-module-onboarding")}]},[t,n]=(0,r.useState)(0),{currentData:c}=(0,o.useSelect)((e=>({currentData:e(l.M).getCurrentOnboardingData()}))),{setIsHeaderEnabled:_,setSidebarActiveView:g,setHeaderActiveView:u,setDrawerActiveView:m,setHideFooterNav:p,setCurrentOnboardingData:N,setIsHeaderNavigationEnabled:S}=(0,o.useDispatch)(l.M);return(0,r.useEffect)((()=>{p(!0),_(!0),g(!1),S(!1),u(s.Ix),m(!1),c.sitegen.experience?.level&&n(c.sitegen.experience.level)})),(0,a.createElement)(f.A,null,(0,a.createElement)(d.A,{isCentered:!0},(0,a.createElement)("div",{className:"nfd-sg-experience-level"},(0,a.createElement)(w,{watcher:0!==t,customNavPercentage:100}),(0,a.createElement)(b,{title:e.heading,options:e.options,selection:t,callback:e=>{n(e),c.sitegen.experience.level=e,N(c);let t=!1;switch(e){case 1:t="novice";break;case 2:t="intermediate";break;case 3:t="expert"}t&&(0,E.v)(new E.iC(h.k2,t,{source:v.d0}))}}))))}}}]);
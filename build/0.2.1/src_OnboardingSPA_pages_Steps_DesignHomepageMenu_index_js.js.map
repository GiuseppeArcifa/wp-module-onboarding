{"version":3,"file":"src_OnboardingSPA_pages_Steps_DesignHomepageMenu_index_js.js","mappings":"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","sources":["webpack://newfold.Onboarding/./src/OnboardingSPA/components/HeadingWithSubHeading/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/components/Layouts/Base.js","webpack://newfold.Onboarding/./src/OnboardingSPA/components/Layouts/Common.js","webpack://newfold.Onboarding/./src/OnboardingSPA/pages/Steps/DesignHomepageMenu/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/utils/api/events.js"],"sourcesContent":["import { __ } from '@wordpress/i18n';\n\n/**\n * Interface Cards with standard design.\n *\n * @returns\n */\nconst HeadingWithSubHeading = ({ title, subtitle }) => {\n\n\treturn (\n\t\t<div className=\"nfd-main-heading\">\n\t\t\t<h2 className=\"nfd-main-heading__title\">{__(\n\t\t\t\ttitle,\n\t\t\t\t\"wp-module-onboarding\"\n\t\t\t)}</h2>\n\t\t\t<h3 className=\"nfd-main-heading__subtitle\">{__(\n\t\t\t\tsubtitle,\n\t\t\t\t\"wp-module-onboarding\"\n\t\t\t)}</h3>\n\t\t</div>\n\t);\n};\n\nexport default HeadingWithSubHeading;\n","import classNames from 'classnames';\nimport { speak } from '@wordpress/a11y';\nimport { useEffect } from '@wordpress/element';\nimport { useLocation } from 'react-router-dom';\n\nimport { NFD_ONBOARDING_EVENT_PREFIX } from '../../../constants';\nimport Event from '../../utils/api/events';\n\n/**\n * The Base Layout has no prescribed styles, only shared functionality like focus-management and analytics.\n *\n * @param {object} props\n * @returns\n */\nconst BaseLayout = ({\n\tclassName = 'nfd-onboarding-layout__base',\n\tchildren,\n}) => {\n\tconst location = useLocation();\n\tconst mainContainer = document.querySelector('.nfd-onboard-content');\n\n\tconst speakRouteTitle = (\n\t\tlocation,\n\t\ttitle = 'Showing new Onboarding Page'\n\t) => {\n\t\t// [TODO]: Determine if some routes should not speak the title\n\t\tspeak(title, 'assertive');\n\t};\n\n\tuseEffect(() => {\n\t\tmainContainer?.focus({ preventScroll: true });\n\t\tspeakRouteTitle(location, 'Override');\n          new Event(`${NFD_ONBOARDING_EVENT_PREFIX}-pageview`, {\n               stepID: location.pathname,\n               previousStepID: window.nfdOnboarding.previousStepID\n          }).send();\n          window.nfdOnboarding.previousStepID = location.pathname\n\t}, [location.pathname]);\n\n\treturn (\n\t\t<div className={classNames('nfd-onboarding-layout', className)}>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nexport default BaseLayout;\n","import { Animate } from '@wordpress/components';\nimport BaseLayout from './Base';\nimport { Fragment } from '@wordpress/element';\nimport classNames from 'classnames';\n\n/**\n *\n * @param {*} param0\n * @returns\n */\nconst InnerContainer = ({ children }) => {\n\treturn <section className=\"is-contained\">{children}</section>;\n};\n\n/**\n * The Common Layout extends the Base Layout and applies structural styles and animations.\n *\n * @param {object} props\n * @returns\n */\nconst CommonLayout = ({\n\tclassName = '',\n\tchildren,\n\tisBgPrimary = false,\n\tisCentered = false,\n\tisVerticallyCentered = false,\n\tisContained = false,\n\tisPadded = false,\n\tisFadeIn = true,\n}) => {\n\tconst Container = isContained ? InnerContainer : Fragment;\n\treturn (\n\t\t<BaseLayout\n\t\t\tclassName={classNames(\n\t\t\t\t'nfd-onboarding-layout__common',\n\t\t\t\tclassName,\n\t\t\t\t{ 'is-layout-fade-in': isFadeIn },\n\t\t\t\t{ 'is-bg-primary': isBgPrimary },\n\t\t\t\t{ 'is-centered': isCentered },\n\t\t\t\t{ 'is-vertically-centered': isVerticallyCentered },\n\t\t\t\t{ 'is-padded': isPadded }\n\t\t\t)}\n\t\t>\n\t\t\t<Container>{children}</Container>\n\t\t</BaseLayout>\n\t);\n};\n\nexport default CommonLayout;\n","import { useViewportMatch } from '@wordpress/compose';\nimport { useLocation } from 'react-router-dom';\nimport { useState, useEffect } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\nimport { getPatterns } from '../../../utils/api/patterns';\nimport { getGlobalStyles } from '../../../utils/api/themes';\nimport { store as nfdOnboardingStore } from '../../../store';\nimport CommonLayout from '../../../components/Layouts/Common';\nimport { VIEW_DESIGN_HOMEPAGE_MENU } from '../../../../constants';\nimport { LivePreviewSelectableCard } from '../../../components/LivePreview';\nimport HeadingWithSubHeading from '../../../components/HeadingWithSubHeading';\nimport { useGlobalStylesOutput } from '../../../utils/global-styles/use-global-styles-output';\n\nconst StepDesignHomepageMenu = () => {\n\tconst homepagePatternList = [ 'homepage-1', 'homepage-2', 'homepage-3' ];\n\n\tconst homepagesList = {\n\t\t'homepage-1': [\n\t\t\t'site-header-left-logo-navigation-inline',\n\t\t\t'homepage-1',\n\t\t\t'site-footer',\n\t\t],\n\t\t'homepage-2': [\n\t\t\t'site-header-left-logo-navigation-inline',\n\t\t\t'homepage-2',\n\t\t\t'site-footer',\n\t\t],\n\t\t'homepage-3': [\n\t\t\t'site-header-left-logo-navigation-inline',\n\t\t\t'homepage-3',\n\t\t\t'site-footer',\n\t\t],\n\t};\n\n\tconst location = useLocation();\n\tconst [ isLoaded, setisLoaded ] = useState( false );\n\tconst [ globalStyle, setGlobalStyle ] = useState();\n\tconst [ homepagePattern, setHomepagePattern ] = useState();\n\tconst [ selectedHomepage, setSelectedHomepage ] = useState( 0 );\n\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\n\tconst { currentStep, currentData, storedPreviewSettings } = useSelect(\n\t\t( select ) => {\n\t\t\treturn {\n\t\t\t\tcurrentStep: select( nfdOnboardingStore ).getStepFromPath(\n\t\t\t\t\tlocation.pathname\n\t\t\t\t),\n\t\t\t\tcurrentData:\n\t\t\t\t\tselect( nfdOnboardingStore ).getCurrentOnboardingData(),\n\t\t\t\tstoredPreviewSettings:\n\t\t\t\t\tselect( nfdOnboardingStore ).getPreviewSettings(),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst {\n\t\tsetDrawerActiveView,\n\t\tsetIsDrawerOpened,\n\t\tsetIsSidebarOpened,\n\t\tupdatePreviewSettings,\n\t\tsetIsDrawerSuppressed,\n\t\tsetCurrentOnboardingData,\n\t} = useDispatch( nfdOnboardingStore );\n\n\tuseEffect( () => {\n\t\tif ( isLargeViewport ) {\n\t\t\tsetIsDrawerOpened( true );\n\t\t}\n\t\tsetIsSidebarOpened( false );\n\t\tsetIsDrawerSuppressed( false );\n\t\tsetDrawerActiveView( VIEW_DESIGN_HOMEPAGE_MENU );\n\t}, [] );\n\n\tfunction refactorPatterns( homepagePatternData ) {\n\t\tconst makeHomepagePattern = [];\n\n\t\tfor ( const key in homepagesList ) {\n\t\t\tconst homepagePatterns = homepagesList[ key ];\n\t\t\tlet patternData = '';\n\t\t\thomepagePatterns.forEach( ( patternName ) => {\n\t\t\t\thomepagePatternData?.body.forEach( ( homepagePatternData ) => {\n\t\t\t\t\tif ( homepagePatternData.slug === patternName ) {\n\t\t\t\t\t\tpatternData += homepagePatternData.content;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\t\t\tmakeHomepagePattern.push( patternData );\n\t\t}\n\n\t\treturn makeHomepagePattern;\n\t}\n\n\tasync function getHomepagePatternsData() {\n\t\tconst homepagePatternData = await getPatterns( currentStep.patternId );\n\t\tconst globalStyles = await getGlobalStyles();\n\t\tlet selectedGlobalStyle;\n\t\tif ( currentData.data.theme.variation ) {\n\t\t\tselectedGlobalStyle = globalStyles.body.filter(\n\t\t\t\t( globalStyle ) =>\n\t\t\t\t\tglobalStyle.title === currentData.data.theme.variation\n\t\t\t)[ 0 ];\n\t\t} else {\n\t\t\tselectedGlobalStyle = globalStyles.body[ 0 ];\n\t\t}\n\t\tupdatePreviewSettings(\n\t\t\tuseGlobalStylesOutput( selectedGlobalStyle, storedPreviewSettings )\n\t\t);\n\t\tif ( selectedGlobalStyle ) {\n\t\t\tsetGlobalStyle( selectedGlobalStyle );\n\t\t}\n\n\t\tsetHomepagePattern( refactorPatterns( homepagePatternData ) );\n\n\t\tif ( currentData?.data.sitePages.length !== 0 ) {\n\t\t\tsetSelectedHomepage(\n\t\t\t\thomepagePatternList?.indexOf(\n\t\t\t\t\tcurrentData?.data.sitePages.homepage\n\t\t\t\t)\n\t\t\t);\n\t\t} else {\n\t\t\tcurrentData.data.sitePages = {\n\t\t\t\t...currentData.data.sitePages,\n\t\t\t\thomepage: homepagePatternList[ 0 ],\n\t\t\t};\n\t\t\tsetCurrentOnboardingData( currentData );\n\t\t}\n\t\tsetisLoaded( true );\n\t}\n\n\tfunction saveDataForHomepage( idx ) {\n\t\tsetSelectedHomepage( idx );\n\t\tcurrentData.data.sitePages = {\n\t\t\t...currentData.data.sitePages,\n\t\t\thomepage: homepagePatternList[ idx ],\n\t\t};\n\t\tsetCurrentOnboardingData( currentData );\n\t}\n\n\tuseEffect( () => {\n\t\tif ( ! isLoaded ) {\n\t\t\tgetHomepagePatternsData();\n\t\t}\n\t}, [ isLoaded ] );\n\n\tfunction buildHomepagePreviews() {\n\t\treturn homepagePattern?.map( ( homepage, idx ) => {\n\t\t\tif ( homepage ) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"homepage_preview__list\">\n\t\t\t\t\t\t<LivePreviewSelectableCard\n\t\t\t\t\t\t\tclassName={ 'homepage_preview__list__item' }\n\t\t\t\t\t\t\tselected={ idx === selectedHomepage }\n\t\t\t\t\t\t\tblockGrammer={ homepage }\n\t\t\t\t\t\t\tviewportWidth={ 1200 }\n\t\t\t\t\t\t\tstyling={ 'custom' }\n\t\t\t\t\t\t\tpreviewSettings={ globalStyle }\n\t\t\t\t\t\t\toverlay={ false }\n\t\t\t\t\t\t\tonClick={ () => saveDataForHomepage( idx ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\t}\n\n\treturn (\n\t\t<CommonLayout>\n\t\t\t<div className=\"homepage_preview\">\n\t\t\t\t<HeadingWithSubHeading\n\t\t\t\t\ttitle={ currentStep?.heading }\n\t\t\t\t\tsubtitle={ currentStep?.subheading }\n\t\t\t\t/>\n\t\t\t\t<div className=\"theme-styles-menu__list\">\n\t\t\t\t\t{ globalStyle && buildHomepagePreviews() }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</CommonLayout>\n\t);\n};\n\nexport default StepDesignHomepageMenu;\n","import apiFetch from '@wordpress/api-fetch';\n\nimport { onboardingRestURL } from './common';\n\nclass Event {\n\tconstructor( eventSlug, eventData = {} ) {\n\t\tthis.eventSlug = eventSlug;\n\t\tthis.eventData = eventData;\n\t}\n\n\tsend() {\n\t\tapiFetch( {\n\t\t\turl: onboardingRestURL( 'events' ),\n\t\t\tmethod: 'POST',\n\t\t\tdata: {\n\t\t\t\tslug: this.eventSlug,\n\t\t\t\tdata: this.eventData,\n\t\t\t},\n\t\t} ).catch( ( error ) => {\n\t\t\tconsole.error( error );\n\t\t} );\n\t}\n}\n\nexport default Event;\n"],"names":["__","HeadingWithSubHeading","title","subtitle","classNames","speak","useEffect","useLocation","NFD_ONBOARDING_EVENT_PREFIX","Event","BaseLayout","className","children","location","mainContainer","document","querySelector","speakRouteTitle","focus","preventScroll","stepID","pathname","previousStepID","window","nfdOnboarding","send","Animate","Fragment","InnerContainer","CommonLayout","isBgPrimary","isCentered","isVerticallyCentered","isContained","isPadded","isFadeIn","Container","useViewportMatch","useState","useSelect","useDispatch","getPatterns","getGlobalStyles","store","nfdOnboardingStore","VIEW_DESIGN_HOMEPAGE_MENU","LivePreviewSelectableCard","useGlobalStylesOutput","StepDesignHomepageMenu","homepagePatternList","homepagesList","isLoaded","setisLoaded","globalStyle","setGlobalStyle","homepagePattern","setHomepagePattern","selectedHomepage","setSelectedHomepage","isLargeViewport","currentStep","currentData","storedPreviewSettings","select","getStepFromPath","getCurrentOnboardingData","getPreviewSettings","setDrawerActiveView","setIsDrawerOpened","setIsSidebarOpened","updatePreviewSettings","setIsDrawerSuppressed","setCurrentOnboardingData","refactorPatterns","homepagePatternData","makeHomepagePattern","key","homepagePatterns","patternData","forEach","patternName","body","slug","content","push","getHomepagePatternsData","patternId","globalStyles","selectedGlobalStyle","data","theme","variation","filter","sitePages","length","indexOf","homepage","saveDataForHomepage","idx","buildHomepagePreviews","map","heading","subheading","apiFetch","onboardingRestURL","constructor","eventSlug","eventData","url","method","catch","error","console"],"sourceRoot":""}
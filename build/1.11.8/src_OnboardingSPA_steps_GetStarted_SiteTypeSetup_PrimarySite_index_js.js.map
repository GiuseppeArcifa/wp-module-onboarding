{"version":3,"file":"src_OnboardingSPA_steps_GetStarted_SiteTypeSetup_PrimarySite_index_js.js","mappings":"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","sources":["webpack://newfold.Onboarding/./src/OnboardingSPA/components/Button/NavCardButton/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/components/Button/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/steps/GetStarted/SiteTypeSetup/PrimarySite/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/steps/GetStarted/SiteTypeSetup/contents.js","webpack://newfold.Onboarding/./src/OnboardingSPA/utils/api/siteClassification.js"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { store as nfdOnboardingStore } from '../../../store';\r\nimport Button from '../../Button';\r\n\r\nimport { setFlow } from '../../../utils/api/flow';\r\nimport { pluginDashboardPage } from '../../../../constants';\r\nimport {\r\n\tOnboardingEvent,\r\n\tsendOnboardingEvent,\r\n} from '../../../utils/analytics/hiive';\r\nimport { ACTION_ONBOARDING_COMPLETE } from '../../../utils/analytics/hiive/constants';\r\nimport { activateInitialPlugins } from '../../../utils/api/plugins';\r\nimport classNames from 'classnames';\r\nimport { Icon } from '@wordpress/icons';\r\n\r\n/**\r\n * Navigation Button Component on Card\r\n *\r\n * @return\r\n */\r\n\r\nconst NavCardButton = ( { text, disabled, className, icon } ) => {\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst { nextStep, currentData } = useSelect( ( select ) => {\r\n\t\treturn {\r\n\t\t\tnextStep: select( nfdOnboardingStore ).getNextStep(),\r\n\t\t\tcurrentData:\r\n\t\t\t\tselect( nfdOnboardingStore ).getCurrentOnboardingData(),\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tconst isLastStep = null === nextStep || false === nextStep;\r\n\r\n\tasync function saveDataAndExit() {\r\n\t\tif ( currentData ) {\r\n\t\t\tcurrentData.isComplete = new Date().getTime();\r\n\t\t\tsetFlow( currentData );\r\n\t\t}\r\n\r\n\t\tactivateInitialPlugins();\r\n\t\tsendOnboardingEvent(\r\n\t\t\tnew OnboardingEvent( ACTION_ONBOARDING_COMPLETE )\r\n\t\t);\r\n\t\twindow.location.replace( pluginDashboardPage );\r\n\t}\r\n\r\n\tconst handleBtnClick = () => {\r\n\t\treturn isLastStep ? saveDataAndExit() : navigate( nextStep.path );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tclassName={ classNames( 'nfd-nav-card-button', className ) }\r\n\t\t\ttext={\r\n\t\t\t\t<>\r\n\t\t\t\t\t<span className={ `${ className }__text` }>{ text }</span>\r\n\t\t\t\t\t{ icon && (\r\n\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\tclassName={ `${ className }__icon` }\r\n\t\t\t\t\t\t\ticon={ icon }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t\thandleClick={ handleBtnClick }\r\n\t\t\tdisabled={ disabled }\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default NavCardButton;\r\n","/**\r\n * Common Button Component\r\n * Different variants can be added later based on our requirements\r\n *\r\n * @returns Button\r\n */\r\n\r\nconst Button = ({ text, handleClick, disabled, className }) => {\r\n\tconst handleBtnClick = () => {\r\n\t\thandleClick();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<button\r\n\t\t\ttype=\"button\"\r\n\t\t\tclassName={`${className} nfd-card-button`}\r\n\t\t\tonClick={handleBtnClick}\r\n\t\t\tdisabled={disabled}\r\n\t\t>\r\n\t\t\t{text}\r\n\t\t</button>\r\n\t);\r\n};\r\n\r\nexport default Button;\r\n","import CommonLayout from '../../../../components/Layouts/Common';\r\nimport NewfoldLargeCard from '../../../../components/NewfoldLargeCard';\r\nimport {\r\n\tSIDEBAR_LEARN_MORE,\r\n\tVIEW_NAV_GET_STARTED,\r\n} from '../../../../../constants';\r\nimport getContents from '../contents';\r\nimport { store as nfdOnboardingStore } from '../../../../store';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { useState, useEffect } from '@wordpress/element';\r\nimport CardHeader from '../../../../components/CardHeader';\r\nimport NavCardButton from '../../../../components/Button/NavCardButton';\r\nimport NeedHelpTag from '../../../../components/NeedHelpTag';\r\nimport Animate from '../../../../components/Animate';\r\nimport { getSiteClassification } from '../../../../utils/api/siteClassification';\r\nimport {\r\n\tOnboardingEvent,\r\n\ttrackOnboardingEvent,\r\n} from '../../../../utils/analytics/hiive';\r\nimport { ACTION_PRIMARY_TYPE_SET } from '../../../../utils/analytics/hiive/constants';\r\n\r\nconst StepPrimarySetup = () => {\r\n\tconst {\r\n\t\tsetDrawerActiveView,\r\n\t\tsetIsDrawerSuppressed,\r\n\t\tsetIsHeaderNavigationEnabled,\r\n\t\tsetSidebarActiveView,\r\n\t\tsetCurrentOnboardingData,\r\n\t} = useDispatch( nfdOnboardingStore );\r\n\r\n\tconst { currentData } = useSelect( ( select ) => {\r\n\t\treturn {\r\n\t\t\tcurrentData:\r\n\t\t\t\tselect( nfdOnboardingStore ).getCurrentOnboardingData(),\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tuseEffect( () => {\r\n\t\tsetSidebarActiveView( SIDEBAR_LEARN_MORE );\r\n\t\tsetIsDrawerSuppressed( true );\r\n\t\tsetDrawerActiveView( VIEW_NAV_GET_STARTED );\r\n\t\tsetIsHeaderNavigationEnabled( true );\r\n\t\tgetSiteClassificationData();\r\n\t}, [] );\r\n\r\n\tconst [ custom, setCustom ] = useState( false );\r\n\tconst [ siteClassification, setSiteClassification ] = useState();\r\n\tconst [ primaryCategory, setPrimaryCategory ] = useState( '' );\r\n\t// Timeout after which a custom input analytics event will be sent.\r\n\tconst [ typingTimeout, setTypingTimeout ] = useState();\r\n\r\n\tconst content = getContents();\r\n\r\n\t/**\r\n\t * Function which fetches the Site Classifications\r\n\t *\r\n\t */\r\n\tconst getSiteClassificationData = async () => {\r\n\t\tconst siteClassificationData = await getSiteClassification();\r\n\t\tsetSiteClassification( siteClassificationData?.body );\r\n\r\n\t\t// Incase old user comes again with data, we need to save it\r\n\t\tif (\r\n\t\t\ttypeof currentData?.data?.siteType?.primary === 'string' ||\r\n\t\t\ttypeof currentData?.data?.siteType?.secondary === 'string'\r\n\t\t) {\r\n\t\t\tconst primaryValue = currentData?.data?.siteType?.primary;\r\n\t\t\tconst secondaryValue = currentData?.data?.siteType?.secondary;\r\n\t\t\tcurrentData.data.siteType.primary = {\r\n\t\t\t\trefers: 'custom',\r\n\t\t\t\tvalue: primaryValue,\r\n\t\t\t};\r\n\t\t\tcurrentData.data.siteType.secondary = {\r\n\t\t\t\trefers: 'custom',\r\n\t\t\t\tvalue: secondaryValue,\r\n\t\t\t};\r\n\t\t\tsetCurrentOnboardingData( currentData );\r\n\t\t}\r\n\r\n\t\tsetPrimaryCategory( currentData?.data?.siteType?.primary?.value ?? '' );\r\n\t\tif ( currentData?.data?.siteType?.primary?.refers === 'custom' ) {\r\n\t\t\tcategoryInput( currentData?.data?.siteType?.primary?.value );\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Function which saves data in redux when category name is selected via chips\r\n\t *\r\n\t * @param {string} primType\r\n\t */\r\n\tconst handleCategoryClick = ( primType ) => {\r\n\t\tsetCustom( false );\r\n\t\tsetPrimaryCategory( primType );\r\n\t\tcurrentData.data.siteType.primary.refers = 'slug';\r\n\t\tcurrentData.data.siteType.primary.value = primType;\r\n\t\tsetCurrentOnboardingData( currentData );\r\n\t\ttrackOnboardingEvent(\r\n\t\t\tnew OnboardingEvent( ACTION_PRIMARY_TYPE_SET, primType )\r\n\t\t);\r\n\t};\r\n\r\n\t/**\r\n\t * Function which saves data in redux when category name is put-in via input box\r\n\t *\r\n\t * @param {string} value\r\n\t */\r\n\tconst categoryInput = ( value ) => {\r\n\t\tsetCustom( true );\r\n\t\tcurrentData.data.siteType.primary.refers = 'custom';\r\n\t\tcurrentData.data.siteType.primary.value = value;\r\n\t\tsetCurrentOnboardingData( currentData );\r\n\t\tif ( '' !== primaryCategory && primaryCategory !== value ) {\r\n\t\t\tclearTimeout( typingTimeout );\r\n\t\t\tsetTypingTimeout(\r\n\t\t\t\tsetTimeout( () => {\r\n\t\t\t\t\ttrackOnboardingEvent(\r\n\t\t\t\t\t\tnew OnboardingEvent( ACTION_PRIMARY_TYPE_SET, value )\r\n\t\t\t\t\t);\r\n\t\t\t\t}, 1000 )\r\n\t\t\t);\r\n\t\t}\r\n\t\tsetPrimaryCategory( value );\r\n\t};\r\n\r\n\tconst primarySiteTypeChips = () => {\r\n\t\tconst types = siteClassification?.types;\r\n\t\treturn Object.keys( types ).map( ( type, idx ) => {\r\n\t\t\treturn (\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={ types[ type ]?.slug }\r\n\t\t\t\t\tdata-slug={ types[ type ]?.slug }\r\n\t\t\t\t\ttabIndex={ idx + 1 }\r\n\t\t\t\t\trole=\"button\"\r\n\t\t\t\t\tclassName={ `${\r\n\t\t\t\t\t\ttypes[ type ].slug === primaryCategory && ! custom\r\n\t\t\t\t\t\t\t? 'chosenPrimaryCategory '\r\n\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t}nfd-card-pri-category` }\r\n\t\t\t\t\tonClick={ () => handleCategoryClick( types[ type ].slug ) }\r\n\t\t\t\t\tonKeyDown={ () =>\r\n\t\t\t\t\t\thandleCategoryClick( types[ type ].slug )\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"nfd-card-pri-category-wrapper\">\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName={ `nfd-card-pri-category-wrapper__icon ${\r\n\t\t\t\t\t\t\t\ttypes[ type ].slug === primaryCategory\r\n\t\t\t\t\t\t\t\t\t? 'nfd-card-pri-category-wrapper__icon-selected '\r\n\t\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t\t}` }\r\n\t\t\t\t\t\t\tstyle={ {\r\n\t\t\t\t\t\t\t\tbackgroundImage: `url(${ types[ type ]?.icon })`,\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t<span className=\"categName\">\r\n\t\t\t\t\t\t\t{ types[ type ]?.label }\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<CommonLayout isBgPrimary isCentered>\r\n\t\t\t<NewfoldLargeCard>\r\n\t\t\t\t<div className=\"nfd-card-heading center\">\r\n\t\t\t\t\t<CardHeader\r\n\t\t\t\t\t\theading={ content.heading }\r\n\t\t\t\t\t\tsubHeading={ content.subheading }\r\n\t\t\t\t\t\tquestion={ content.question }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Animate type=\"fade-in-disabled\" after={ siteClassification }>\r\n\t\t\t\t\t<div className=\"nfd-setup-primary-categories\">\r\n\t\t\t\t\t\t{ siteClassification && primarySiteTypeChips() }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"nfd-setup-primary-custom\">\r\n\t\t\t\t\t\t<p className=\"nfd-setup-primary-custom__tellus-text\">\r\n\t\t\t\t\t\t\t{ content.customInputLabel }\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"search\"\r\n\t\t\t\t\t\t\tonChange={ ( e ) =>\r\n\t\t\t\t\t\t\t\tcategoryInput( e?.target?.value )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"nfd-setup-primary-custom__tellus-input\"\r\n\t\t\t\t\t\t\tplaceholder={ content.customInputPlaceholderText }\r\n\t\t\t\t\t\t\tvalue={ custom ? primaryCategory : '' }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Animate>\r\n\t\t\t\t<NavCardButton text={ content.buttonText } />\r\n\t\t\t\t<NeedHelpTag />\r\n\t\t\t</NewfoldLargeCard>\r\n\t\t</CommonLayout>\r\n\t);\r\n};\r\n\r\nexport default StepPrimarySetup;\r\n","import { __, sprintf } from '@wordpress/i18n';\r\n\r\nimport { translations } from '../../../utils/locales/translations';\r\n\r\nconst getContents = () => {\r\n\treturn {\r\n\t\theading: sprintf(\r\n\t\t\t/* translators: %s: website or store */\r\n\t\t\t__(\r\n\t\t\t\t'Help us tailor this setup to your %s',\r\n\t\t\t\t'wp-module-onboarding'\r\n\t\t\t),\r\n\t\t\ttranslations( 'site' )\r\n\t\t),\r\n\t\tsubheading: sprintf(\r\n\t\t\t/* translators: %s: SITE or STORE */\r\n\t\t\t__( 'ABOUT YOUR %s', 'wp-module-onboarding' ),\r\n\t\t\ttranslations( 'SITE' )\r\n\t\t),\r\n\t\tquestion: sprintf(\r\n\t\t\t/* translators: %s: site or store */\r\n\t\t\t__( 'What type of %s is it?', 'wp-module-onboarding' ),\r\n\t\t\ttranslations( 'site' )\r\n\t\t),\r\n\t\tbuttonText: __( 'Continue Setup', 'wp-module-onboarding' ),\r\n\t\tcustomInputPlaceholderText: sprintf(\r\n\t\t\t/* translators: %s: site or store */\r\n\t\t\t__( 'Enter to search your %s type', 'wp-module-onboarding' ),\r\n\t\t\ttranslations( 'site' )\r\n\t\t),\r\n\t\tcustomInputLabel: __( 'or tell us here:', 'wp-module-onboarding' ),\r\n\t};\r\n};\r\n\r\nexport default getContents;\r\n","import { resolve } from './resolve';\r\nimport { onboardingRestURL } from './common';\r\nimport siteClassificationData from './siteClassification.json';\r\n\r\nimport apiFetch from '@wordpress/api-fetch';\r\n\r\nexport async function getSiteClassification() {\r\n\tconst data = await resolve(\r\n\t\tapiFetch( {\r\n\t\t\turl: onboardingRestURL( 'site-classification' ),\r\n\t\t} )\r\n\t);\r\n\tif ( data.body.length === 0 ) {\r\n\t\treturn siteClassificationData;\r\n\t}\r\n\r\n\treturn data;\r\n}\r\n"],"names":["useNavigate","useSelect","store","nfdOnboardingStore","Button","setFlow","pluginDashboardPage","OnboardingEvent","sendOnboardingEvent","ACTION_ONBOARDING_COMPLETE","activateInitialPlugins","classNames","Icon","NavCardButton","text","disabled","className","icon","navigate","nextStep","currentData","select","getNextStep","getCurrentOnboardingData","isLastStep","saveDataAndExit","isComplete","Date","getTime","window","location","replace","handleBtnClick","path","handleClick","CommonLayout","NewfoldLargeCard","SIDEBAR_LEARN_MORE","VIEW_NAV_GET_STARTED","getContents","useDispatch","useState","useEffect","CardHeader","NeedHelpTag","Animate","getSiteClassification","trackOnboardingEvent","ACTION_PRIMARY_TYPE_SET","StepPrimarySetup","setDrawerActiveView","setIsDrawerSuppressed","setIsHeaderNavigationEnabled","setSidebarActiveView","setCurrentOnboardingData","getSiteClassificationData","custom","setCustom","siteClassification","setSiteClassification","primaryCategory","setPrimaryCategory","typingTimeout","setTypingTimeout","content","siteClassificationData","body","data","siteType","primary","secondary","primaryValue","secondaryValue","refers","value","categoryInput","handleCategoryClick","primType","clearTimeout","setTimeout","primarySiteTypeChips","types","Object","keys","map","type","idx","slug","backgroundImage","label","heading","subheading","question","customInputLabel","e","target","customInputPlaceholderText","buttonText","__","sprintf","translations","resolve","onboardingRestURL","apiFetch","url","length"],"sourceRoot":""}
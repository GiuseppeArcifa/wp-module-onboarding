{"version":3,"file":"src_OnboardingSPA_components_Header_components_SiteBuildHeader_index_js.js","mappings":"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","sources":["webpack://newfold.Onboarding/./src/OnboardingSPA/components/Header/components/SiteBuildHeader/HeaderEnd.js","webpack://newfold.Onboarding/./src/OnboardingSPA/components/Header/components/SiteBuildHeader/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/components/Header/components/SiteBuildHeader/step-navigation.js"],"sourcesContent":["import { Fragment } from '@wordpress/element';\r\nimport { Slot } from '@wordpress/components';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\nimport StepNavigation from './step-navigation';\r\nimport { store as nfdOnboardingStore } from '../../../../store';\r\nimport { SIDEBAR_MENU_SLOTFILL_PREFIX } from '../../../../../constants';\r\n\r\nconst HeaderEnd = () => {\r\n\tconst { sidebars, isHeaderNavigationEnabled } = useSelect( ( select ) => {\r\n\t\treturn {\r\n\t\t\tsidebars: select( nfdOnboardingStore ).getSidebars(),\r\n\t\t\tisHeaderNavigationEnabled:\r\n\t\t\t\tselect( nfdOnboardingStore ).isHeaderNavigationEnabled(),\r\n\t\t};\r\n\t} );\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{ isHeaderNavigationEnabled && <StepNavigation /> }\r\n\t\t\t{ sidebars.map( ( sidebar ) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Slot\r\n\t\t\t\t\t\tkey={ sidebar.id }\r\n\t\t\t\t\t\tname={ `${ SIDEBAR_MENU_SLOTFILL_PREFIX }/${ sidebar.id }` }\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t} ) }\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default HeaderEnd;\r\n","import { memo } from '@wordpress/element';\r\nimport { Fill } from '@wordpress/components';\r\n\r\nimport HeaderEnd from './HeaderEnd';\r\nimport { HEADER_END, HEADER_SITEBUILD } from '../../../../../constants';\r\n\r\n/**\r\n * Interface header rendered into header render prop in <InterfaceSkeleton />.\r\n *\r\n * @return {WPComponent} Header\r\n */\r\nconst SiteBuildHeader = () => {\r\n\treturn (\r\n\t\t<Fill name={ `${ HEADER_SITEBUILD }/${ HEADER_END }` }>\r\n\t\t\t<HeaderEnd />\r\n\t\t</Fill>\r\n\t);\r\n};\r\n\r\nexport default memo( SiteBuildHeader );\r\n","import { useSelect, useDispatch } from '@wordpress/data';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Button, ButtonGroup } from '@wordpress/components';\r\nimport { Icon, chevronLeft, chevronRight } from '@wordpress/icons';\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nimport { setFlow } from '../../../../utils/api/flow';\r\nimport { store as nfdOnboardingStore } from '../../../../store';\r\nimport { pluginDashboardPage } from '../../../../../constants';\r\nimport { activateInitialPlugins } from '../../../../utils/api/plugins';\r\nimport {\r\n\tOnboardingEvent,\r\n\tsendOnboardingEvent,\r\n} from '../../../../utils/analytics/hiive';\r\nimport { ACTION_ONBOARDING_COMPLETE } from '../../../../utils/analytics/hiive/constants';\r\n\r\n/**\r\n * Back step Navigation button.\r\n *\r\n * @param {*} param0\r\n *\r\n * @return {WPComponent} Back Component\r\n */\r\nconst Back = ( { path, showErrorDialog } ) => {\r\n\tconst { setNavErrorContinuePath } = useDispatch( nfdOnboardingStore );\r\n\tconst navigate = useNavigate();\r\n\tconst navigateBack = () => {\r\n\t\tif ( showErrorDialog !== false ) {\r\n\t\t\tsetNavErrorContinuePath( path );\r\n\t\t} else {\r\n\t\t\tnavigate( path, { state: { origin: 'header' } } );\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tclassName=\"navigation-buttons navigation-buttons_back\"\r\n\t\t\tonClick={ navigateBack }\r\n\t\t\tvariant=\"secondary\"\r\n\t\t>\r\n\t\t\t<Icon icon={ chevronLeft } />\r\n\t\t\t{ __( 'Back', 'wp-module-onboarding' ) }\r\n\t\t</Button>\r\n\t);\r\n};\r\n\r\n/**\r\n * Next step naigation button\r\n *\r\n * @param {*} param0\r\n *\r\n * @return {WPComponent} Next Component\r\n */\r\nconst Next = ( { path, showErrorDialog } ) => {\r\n\tconst { setNavErrorContinuePath } = useDispatch( nfdOnboardingStore );\r\n\t/* [TODO]: some sense of isStepComplete to enable/disable */\r\n\tconst navigate = useNavigate();\r\n\tconst navigateNext = () => {\r\n\t\tif ( showErrorDialog !== false ) {\r\n\t\t\tsetNavErrorContinuePath( path );\r\n\t\t} else {\r\n\t\t\tnavigate( path, { state: { origin: 'header' } } );\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tonClick={ navigateNext }\r\n\t\t\tvariant=\"primary\"\r\n\t\t\tclassName=\"navigation-buttons navigation-buttons_next\"\r\n\t\t>\r\n\t\t\t{ __( 'Next', 'wp-module-onboarding' ) }\r\n\t\t\t<Icon icon={ chevronRight } />\r\n\t\t</Button>\r\n\t);\r\n};\r\n\r\nasync function saveDataAndExit( currentData ) {\r\n\tif ( currentData ) {\r\n\t\tcurrentData.isComplete = new Date().getTime();\r\n\t\tsetFlow( currentData );\r\n\t}\r\n\r\n\tactivateInitialPlugins();\r\n\tsendOnboardingEvent( new OnboardingEvent( ACTION_ONBOARDING_COMPLETE ) );\r\n\twindow.location.replace( pluginDashboardPage );\r\n}\r\n\r\n/**\r\n * Finish step navigation button.\r\n *\r\n * @param {*} param0\r\n *\r\n * @return {WPComponent} Finish Component\r\n */\r\nconst Finish = ( { currentData, saveDataAndExitFunc } ) => (\r\n\t<Button\r\n\t\tonClick={ () => saveDataAndExitFunc( currentData ) }\r\n\t\tclassName=\"navigation-buttons navigation-buttons_finish\"\r\n\t\tvariant=\"primary\"\r\n\t>\r\n\t\t{ __( 'Finish', 'wp-module-onboarding' ) }\r\n\t\t<Icon icon={ chevronRight } />\r\n\t</Button>\r\n);\r\n\r\n/**\r\n * Step buttons presented in Header.\r\n *\r\n * @return {WPComponent} StepNavigation Component\r\n */\r\nconst StepNavigation = () => {\r\n\tconst { previousStep, nextStep, currentData, showErrorDialog } = useSelect(\r\n\t\t( select ) => {\r\n\t\t\treturn {\r\n\t\t\t\tnextStep: select( nfdOnboardingStore ).getNextStep(),\r\n\t\t\t\tpreviousStep: select( nfdOnboardingStore ).getPreviousStep(),\r\n\t\t\t\tcurrentData:\r\n\t\t\t\t\tselect( nfdOnboardingStore ).getCurrentOnboardingData(),\r\n\t\t\t\tshowErrorDialog:\r\n\t\t\t\t\tselect( nfdOnboardingStore ).getShowErrorDialog(),\r\n\t\t\t};\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\tconst isFirstStep = null === previousStep || false === previousStep;\r\n\tconst isLastStep = null === nextStep || false === nextStep;\r\n\treturn (\r\n\t\t<div className=\"nfd-onboarding-header__step-navigation\">\r\n\t\t\t<ButtonGroup style={ { display: 'flex', columnGap: '0.5rem' } }>\r\n\t\t\t\t{ isFirstStep || isLastStep ? null : (\r\n\t\t\t\t\t<Back\r\n\t\t\t\t\t\tpath={ previousStep.path }\r\n\t\t\t\t\t\tshowErrorDialog={ showErrorDialog }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t\t{ isLastStep ? (\r\n\t\t\t\t\t<Finish\r\n\t\t\t\t\t\tcurrentData={ currentData }\r\n\t\t\t\t\t\tsaveDataAndExitFunc={ saveDataAndExit }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Next\r\n\t\t\t\t\t\tpath={ nextStep.path }\r\n\t\t\t\t\t\tshowErrorDialog={ showErrorDialog }\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</ButtonGroup>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default StepNavigation;\r\n"],"names":["Fragment","Slot","useSelect","StepNavigation","store","nfdOnboardingStore","SIDEBAR_MENU_SLOTFILL_PREFIX","HeaderEnd","sidebars","isHeaderNavigationEnabled","select","getSidebars","map","sidebar","id","memo","Fill","HEADER_END","HEADER_SITEBUILD","SiteBuildHeader","useDispatch","useNavigate","Button","ButtonGroup","Icon","chevronLeft","chevronRight","__","setFlow","pluginDashboardPage","activateInitialPlugins","OnboardingEvent","sendOnboardingEvent","ACTION_ONBOARDING_COMPLETE","Back","path","showErrorDialog","setNavErrorContinuePath","navigate","navigateBack","state","origin","Next","navigateNext","saveDataAndExit","currentData","isComplete","Date","getTime","window","location","replace","Finish","saveDataAndExitFunc","previousStep","nextStep","getNextStep","getPreviousStep","getCurrentOnboardingData","getShowErrorDialog","isFirstStep","isLastStep","display","columnGap"],"sourceRoot":""}
{"version":3,"file":"src_OnboardingSPA_pages_Steps_DesignThemeStyles_Preview_index_js.js","mappings":"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","sources":["webpack://newfold.Onboarding/./src/OnboardingSPA/components/Layouts/Base.js","webpack://newfold.Onboarding/./src/OnboardingSPA/components/Layouts/Common.js","webpack://newfold.Onboarding/./src/OnboardingSPA/pages/Steps/DesignThemeStyles/Preview/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/utils/api/events.js"],"sourcesContent":["import classNames from 'classnames';\nimport { speak } from '@wordpress/a11y';\nimport { useEffect } from '@wordpress/element';\nimport { useLocation } from 'react-router-dom';\n\nimport { NFD_ONBOARDING_EVENT_PREFIX } from '../../../constants';\nimport Event from '../../utils/api/events';\n\n/**\n * The Base Layout has no prescribed styles, only shared functionality like focus-management and analytics.\n *\n * @param {object} props\n * @returns\n */\nconst BaseLayout = ({\n\tclassName = 'nfd-onboarding-layout__base',\n\tchildren,\n}) => {\n\tconst location = useLocation();\n\tconst mainContainer = document.querySelector('.nfd-onboard-content');\n\n\tconst speakRouteTitle = (\n\t\tlocation,\n\t\ttitle = 'Showing new Onboarding Page'\n\t) => {\n\t\t// [TODO]: Determine if some routes should not speak the title\n\t\tspeak(title, 'assertive');\n\t};\n\n\tuseEffect(() => {\n\t\tmainContainer?.focus({ preventScroll: true });\n\t\tspeakRouteTitle(location, 'Override');\n          new Event(`${NFD_ONBOARDING_EVENT_PREFIX}-pageview`, {\n               stepID: location.pathname,\n               previousStepID: window.nfdOnboarding.previousStepID\n          }).send();\n          window.nfdOnboarding.previousStepID = location.pathname\n\t}, [location.pathname]);\n\n\treturn (\n\t\t<div className={classNames('nfd-onboarding-layout', className)}>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nexport default BaseLayout;\n","import { Animate } from '@wordpress/components';\nimport BaseLayout from './Base';\nimport { Fragment } from '@wordpress/element';\nimport classNames from 'classnames';\n\n/**\n *\n * @param {*} param0\n * @returns\n */\nconst InnerContainer = ({ children }) => {\n\treturn <section className=\"is-contained\">{children}</section>;\n};\n\n/**\n * The Common Layout extends the Base Layout and applies structural styles and animations.\n *\n * @param {object} props\n * @returns\n */\nconst CommonLayout = ({\n\tclassName = '',\n\tchildren,\n\tisBgPrimary = false,\n\tisCentered = false,\n\tisVerticallyCentered = false,\n\tisContained = false,\n\tisPadded = false,\n\tisFadeIn = true,\n}) => {\n\tconst Container = isContained ? InnerContainer : Fragment;\n\treturn (\n\t\t<BaseLayout\n\t\t\tclassName={classNames(\n\t\t\t\t'nfd-onboarding-layout__common',\n\t\t\t\tclassName,\n\t\t\t\t{ 'is-layout-fade-in': isFadeIn },\n\t\t\t\t{ 'is-bg-primary': isBgPrimary },\n\t\t\t\t{ 'is-centered': isCentered },\n\t\t\t\t{ 'is-vertically-centered': isVerticallyCentered },\n\t\t\t\t{ 'is-padded': isPadded }\n\t\t\t)}\n\t\t>\n\t\t\t<Container>{children}</Container>\n\t\t</BaseLayout>\n\t);\n};\n\nexport default CommonLayout;\n","import CommonLayout from '../../../../components/Layouts/Common';\nimport { VIEW_DESIGN_THEME_STYLES_PREVIEW } from '../../../../../constants';\nimport { store as nfdOnboardingStore } from '../../../../store';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useState, useEffect } from '@wordpress/element';\nimport LivePreview from '../../../../components/LivePreview';\n\nimport { check, search, Icon } from '@wordpress/icons';\nimport { useNavigate } from 'react-router-dom';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { getPatterns } from '../../../../utils/api/patterns';\nimport { getGlobalStyles } from '../../../../utils/api/themes';\n\nconst StepDesignThemeStylesPreview = () => {\n    const [ isLoaded, setIsLoaded ] = useState( false );\n    const [ pattern, setPattern ] = useState();\n    const [ selectedStyle, setSelectedStyle ] = useState();\n\n    const isLargeViewport = useViewportMatch( 'medium' );\n\tconst { currentStep, nextStep } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tcurrentStep: select( nfdOnboardingStore ).getCurrentStep(),\n\t\t\tnextStep: select( nfdOnboardingStore ).getNextStep(),\n\t\t};\n\t}, [] );\n\n\tconst {\n\t\tsetDrawerActiveView,\n\t\tsetIsDrawerOpened,\n\t\tsetIsSidebarOpened,\n\t\tsetIsDrawerSuppressed,\n\t} = useDispatch( nfdOnboardingStore );\n\n\tuseEffect( () => {\n\t\tif ( isLargeViewport ) {\n\t\t\tsetIsDrawerOpened( true );\n\t\t}\n\t\tsetIsSidebarOpened( false );\n\t\tsetIsDrawerSuppressed( false );\n\t\tsetDrawerActiveView( VIEW_DESIGN_THEME_STYLES_PREVIEW );\n\t}, [] );\n\n    const getStylesAndPatterns = async () => {\n\t\tconst pattern = await getPatterns( currentStep.patternId, true );\n        const globalStyles = await getGlobalStyles();\n\t\tsetPattern( pattern?.body );\n        setGlobalStyles( globalStyles?.body );\n\t\tsetIsLoaded( true );\n\t};\n\n    useEffect( () => {\n\t\tif ( ! isLoaded ) getStylesAndPatterns();\n\t}, [ isLoaded ] );\n\n\treturn (\n\t\t<CommonLayout isCentered>\n            { pattern && <LivePreview\n\t\t\t\tblockGrammer={ pattern }\n\t\t\t\tstyling={ 'custom' }\n\t\t\t\tviewportWidth={ 1300 }\n\t\t\t/> }\n\t\t</CommonLayout>\n\t);\n};\n\nexport default StepDesignThemeStylesPreview;\n","import apiFetch from '@wordpress/api-fetch';\n\nimport { onboardingRestURL } from './common';\n\nclass Event {\n\tconstructor( eventSlug, eventData = {} ) {\n\t\tthis.eventSlug = eventSlug;\n\t\tthis.eventData = eventData;\n\t}\n\n\tsend() {\n\t\tapiFetch( {\n\t\t\turl: onboardingRestURL( 'events' ),\n\t\t\tmethod: 'POST',\n\t\t\tdata: {\n\t\t\t\tslug: this.eventSlug,\n\t\t\t\tdata: this.eventData,\n\t\t\t},\n\t\t} ).catch( ( error ) => {\n\t\t\tconsole.error( error );\n\t\t} );\n\t}\n}\n\nexport default Event;\n"],"names":["classNames","speak","useEffect","useLocation","NFD_ONBOARDING_EVENT_PREFIX","Event","BaseLayout","className","children","location","mainContainer","document","querySelector","speakRouteTitle","title","focus","preventScroll","stepID","pathname","previousStepID","window","nfdOnboarding","send","Animate","Fragment","InnerContainer","CommonLayout","isBgPrimary","isCentered","isVerticallyCentered","isContained","isPadded","isFadeIn","Container","VIEW_DESIGN_THEME_STYLES_PREVIEW","store","nfdOnboardingStore","useSelect","useDispatch","useState","LivePreview","check","search","Icon","useNavigate","useViewportMatch","getPatterns","getGlobalStyles","StepDesignThemeStylesPreview","isLoaded","setIsLoaded","pattern","setPattern","selectedStyle","setSelectedStyle","isLargeViewport","currentStep","nextStep","select","getCurrentStep","getNextStep","setDrawerActiveView","setIsDrawerOpened","setIsSidebarOpened","setIsDrawerSuppressed","getStylesAndPatterns","patternId","globalStyles","body","setGlobalStyles","apiFetch","onboardingRestURL","constructor","eventSlug","eventData","url","method","data","slug","catch","error","console"],"sourceRoot":""}
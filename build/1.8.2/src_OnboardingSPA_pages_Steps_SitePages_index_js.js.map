{"version":3,"file":"src_OnboardingSPA_pages_Steps_SitePages_index_js.js","mappings":"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","sources":["webpack://newfold.Onboarding/./src/OnboardingSPA/components/ErrorState/Step/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/components/Loaders/ImageUpload/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/components/Loaders/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/components/StateHandlers/Design/contents.js","webpack://newfold.Onboarding/./src/OnboardingSPA/components/StateHandlers/Design/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/pages/Steps/SitePages/index.js"],"sourcesContent":["import CommonLayout from '../../Layouts/Common';\nimport HeadingWithSubHeading from '../../HeadingWithSubHeading';\nimport NeedHelpTag from '../../NeedHelpTag';\n\nconst StepErrorState = ( { title, subtitle, error } ) => {\n\treturn (\n\t\t<CommonLayout className=\"step-error-state\" isVerticallyCentered>\n\t\t\t<HeadingWithSubHeading title={ title } subtitle={ subtitle } />\n\t\t\t<div className=\"step-error-state__logo\"></div>\n\t\t\t<h3 className=\"step-error-state__error\">{ error }</h3>\n\t\t\t<NeedHelpTag />\n\t\t</CommonLayout>\n\t);\n};\n\nexport default StepErrorState;\n","import Animate from '../../Animate';\n\nconst ImageUploadLoader = () => {\n\treturn (\n\t\t<div className=\"image-upload-loader--loading-box\">\n\t\t\t<Animate\n\t\t\t\ttype={ 'load' }\n\t\t\t\tclassName=\"image-upload-loader--loading-box__loader\"\n\t\t\t></Animate>\n\t\t</div>\n\t);\n};\n\nexport default ImageUploadLoader;\n","export { default as StepLoader } from \"./Step\";\nexport { default as ImageUploadLoader } from \"./ImageUpload\";\n","import { __, sprintf } from '@wordpress/i18n';\n\nconst getContents = ( brandName ) => {\n\treturn {\n\t\tloader: {\n\t\t\ttitle: sprintf(\n\t\t\t\t/* translators: %s: Brand */\n\t\t\t\t__( 'Preparing your %s design studio', 'wp-module-onboarding' ),\n\t\t\t\tbrandName\n\t\t\t),\n\t\t\tsubtitle: __(\n\t\t\t\t'Hang tight while we show you some of the best WordPress has to offer!',\n\t\t\t\t'wp-module-onboarding'\n\t\t\t),\n\t\t},\n\t\terrorState: {\n\t\t\ttitle: sprintf(\n\t\t\t\t/* translators: %s: Brand */\n\t\t\t\t__( 'Preparing your %s design studio', 'wp-module-onboarding' ),\n\t\t\t\tbrandName\n\t\t\t),\n\t\t\tsubtitle: __(\n\t\t\t\t'Hang tight while we show you some of the best WordPress has to offer!',\n\t\t\t\t'wp-module-onboarding'\n\t\t\t),\n\t\t\terror: __(\n\t\t\t\t'Uh-oh, something went wrong. Please contact support.',\n\t\t\t\t'wp-module-onboarding'\n\t\t\t),\n\t\t},\n\t};\n};\n\nexport default getContents;\n","import { useSelect, useDispatch } from '@wordpress/data';\nimport { Fragment, useEffect } from '@wordpress/element';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\nimport { StepLoader } from '../../Loaders';\nimport { store as nfdOnboardingStore } from '../../../store';\nimport {\n\tgetThemeStatus,\n\tinstall as installTheme,\n} from '../../../utils/api/themes';\nimport {\n\tTHEME_STATUS_INIT,\n\tTHEME_STATUS_INSTALLING,\n\tTHEME_STATUS_NOT_ACTIVE,\n\tTHEME_STATUS_ACTIVE,\n\tDESIGN_STEPS_THEME,\n\tTHEME_INSTALL_WAIT_TIMEOUT,\n\tTHEME_STATUS_FAILURE,\n} from '../../../../constants';\nimport { StepErrorState } from '../../ErrorState';\nimport getContents from './contents';\nimport ExitToWordPress from '../../ExitToWordPress';\n\nconst DesignStateHandler = ( {\n\tchildren,\n\tnavigationStateCallback = false,\n} ) => {\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\n\tconst { storedThemeStatus, brandName } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tstoredThemeStatus: select( nfdOnboardingStore ).getThemeStatus(),\n\t\t\tbrandName: select( nfdOnboardingStore ).getNewfoldBrandName(),\n\t\t};\n\t}, [] );\n\n\tconst contents = getContents( brandName );\n\n\tconst {\n\t\tupdateThemeStatus,\n\t\tsetIsDrawerOpened,\n\t\tsetIsDrawerSuppressed,\n\t\tsetIsHeaderNavigationEnabled,\n\t} = useDispatch( nfdOnboardingStore );\n\n\tconst checkThemeStatus = async () => {\n\t\tconst themeStatus = await getThemeStatus( DESIGN_STEPS_THEME );\n\t\tif ( themeStatus?.error ) {\n\t\t\treturn THEME_STATUS_NOT_ACTIVE;\n\t\t}\n\t\treturn themeStatus.body.status;\n\t};\n\n\tconst waitForInstall = () => {\n\t\tsetTimeout( async () => {\n\t\t\tconst themeStatus = await checkThemeStatus();\n\t\t\tif ( themeStatus !== THEME_STATUS_ACTIVE ) {\n\t\t\t\treturn updateThemeStatus( THEME_STATUS_NOT_ACTIVE );\n\t\t\t}\n\t\t\twindow.location.reload();\n\t\t}, THEME_INSTALL_WAIT_TIMEOUT );\n\t};\n\n\tconst enableNavigation = () => {\n\t\tif ( isLargeViewport ) {\n\t\t\tsetIsDrawerOpened( true );\n\t\t}\n\t\tsetIsDrawerSuppressed( false );\n\t\tsetIsHeaderNavigationEnabled( true );\n\t};\n\n\tconst disableNavigation = () => {\n\t\tsetIsDrawerOpened( false );\n\t\tsetIsDrawerSuppressed( true );\n\t\tsetIsHeaderNavigationEnabled( false );\n\t};\n\n\tconst handleNavigationStateCallback = () => {\n\t\tif ( typeof navigationStateCallback === 'function' ) {\n\t\t\treturn navigationStateCallback();\n\t\t}\n\t\tenableNavigation();\n\t};\n\n\tconst handleNavigationState = () => {\n\t\tswitch ( storedThemeStatus ) {\n\t\t\tcase THEME_STATUS_FAILURE:\n\t\t\tcase THEME_STATUS_ACTIVE:\n\t\t\t\treturn handleNavigationStateCallback();\n\t\t\tdefault:\n\t\t\t\tdisableNavigation();\n\t\t}\n\t};\n\n\tconst handleThemeStatus = async () => {\n\t\tconst themeStatus = await checkThemeStatus();\n\t\tswitch ( themeStatus ) {\n\t\t\tcase THEME_STATUS_INSTALLING:\n\t\t\t\twaitForInstall();\n\t\t\t\tbreak;\n\t\t\tcase THEME_STATUS_ACTIVE:\n\t\t\t\twindow.location.reload();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tupdateThemeStatus( themeStatus );\n\t\t}\n\t};\n\n\tuseEffect( () => {\n\t\thandleNavigationState();\n\n\t\tif ( storedThemeStatus === THEME_STATUS_INIT ) {\n\t\t\thandleThemeStatus( storedThemeStatus );\n\t\t}\n\t}, [ storedThemeStatus ] );\n\n\tconst installThemeManually = async () => {\n\t\tupdateThemeStatus( THEME_STATUS_INSTALLING );\n\t\tconst themeInstallStatus = await installTheme(\n\t\t\tDESIGN_STEPS_THEME,\n\t\t\ttrue,\n\t\t\tfalse\n\t\t);\n\t\tif ( themeInstallStatus.error ) {\n\t\t\treturn updateThemeStatus( THEME_STATUS_FAILURE );\n\t\t}\n\n\t\treturn window.location.reload();\n\t};\n\n\tconst handleRender = () => {\n\t\tswitch ( storedThemeStatus ) {\n\t\t\tcase THEME_STATUS_NOT_ACTIVE:\n\t\t\t\treturn (\n\t\t\t\t\t<ExitToWordPress\n\t\t\t\t\t\tshowButton={ false }\n\t\t\t\t\t\tisModalOpen={ true }\n\t\t\t\t\t\tmodalTitle={ __(\n\t\t\t\t\t\t\t'It looks like you may have an existing website',\n\t\t\t\t\t\t\t'wp-module-onboarding'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tmodalText={ __(\n\t\t\t\t\t\t\t'Going through this setup will change your active theme, WordPress settings, add content – would you like to continue?',\n\t\t\t\t\t\t\t'wp-module-onboarding'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tmodalOnClose={ installThemeManually }\n\t\t\t\t\t\tmodalExitButtonText={ __(\n\t\t\t\t\t\t\t'Exit to WordPress',\n\t\t\t\t\t\t\t'wp-module-onboarding'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase THEME_STATUS_FAILURE:\n\t\t\t\treturn (\n\t\t\t\t\t<StepErrorState\n\t\t\t\t\t\ttitle={ contents.errorState.title }\n\t\t\t\t\t\tsubtitle={ contents.errorState.subtitle }\n\t\t\t\t\t\terror={ contents.errorState.error }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase THEME_STATUS_ACTIVE:\n\t\t\t\treturn children;\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<StepLoader\n\t\t\t\t\t\ttitle={ contents.loader.title }\n\t\t\t\t\t\tsubtitle={ contents.loader.subtitle }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t}\n\t};\n\n\treturn <Fragment>{ handleRender() }</Fragment>;\n};\n\nexport default DesignStateHandler;\n","import { useSelect, useDispatch } from '@wordpress/data';\nimport { useState, useEffect } from '@wordpress/element';\nimport { useLocation } from 'react-router-dom';\n\nimport { store as nfdOnboardingStore } from '../../../store';\nimport CommonLayout from '../../../components/Layouts/Common';\nimport HeadingWithSubHeading from '../../../components/HeadingWithSubHeading';\nimport { getPatterns } from '../../../utils/api/patterns';\nimport {\n\tTHEME_STATUS_ACTIVE,\n\tTHEME_STATUS_INIT,\n\tSIDEBAR_LEARN_MORE,\n\tVIEW_NAV_DESIGN,\n} from '../../../../constants';\nimport { DesignStateHandler } from '../../../components/StateHandlers';\nimport {\n\tGlobalStylesProvider,\n\tLivePreviewSelectableCardWithInfo,\n} from '../../../components/LivePreview';\nimport LivePreviewSkeleton from '../../../components/LivePreview/LivePreviewSkeleton';\n\nconst StepSitePages = () => {\n\tconst location = useLocation();\n\tconst [ sitePages, setSitePages ] = useState();\n\tconst [ checkedPages, setCheckedPages ] = useState( [] );\n\n\tconst { currentStep, currentData, themeStatus, themeVariations } =\n\t\tuseSelect( ( select ) => {\n\t\t\treturn {\n\t\t\t\tcurrentStep: select( nfdOnboardingStore ).getStepFromPath(\n\t\t\t\t\tlocation.pathname\n\t\t\t\t),\n\t\t\t\tcurrentData:\n\t\t\t\t\tselect( nfdOnboardingStore ).getCurrentOnboardingData(),\n\t\t\t\tthemeStatus: select( nfdOnboardingStore ).getThemeStatus(),\n\t\t\t\tthemeVariations:\n\t\t\t\t\tselect( nfdOnboardingStore ).getStepPreviewData(),\n\t\t\t};\n\t\t}, [] );\n\n\tconst {\n\t\tsetDrawerActiveView,\n\t\tsetSidebarActiveView,\n\t\tupdateThemeStatus,\n\t\tsetCurrentOnboardingData,\n\t} = useDispatch( nfdOnboardingStore );\n\n\tuseEffect( () => {\n\t\tsetSidebarActiveView( SIDEBAR_LEARN_MORE );\n\t\tsetDrawerActiveView( VIEW_NAV_DESIGN );\n\t}, [] );\n\n\tconst getSitePages = async () => {\n\t\tconst sitePagesResponse = await getPatterns( currentStep.patternId );\n\t\tif ( sitePagesResponse?.error ) {\n\t\t\treturn updateThemeStatus( THEME_STATUS_INIT );\n\t\t}\n\t\tif ( sitePagesResponse?.body ) {\n\t\t\tif ( currentData.data.sitePages?.other ) {\n\t\t\t\tif ( currentData.data.sitePages.other === false ) {\n\t\t\t\t\tsetCheckedPages( [] );\n\t\t\t\t} else if ( currentData.data.sitePages.other.length !== 0 ) {\n\t\t\t\t\tsetCheckedPages(\n\t\t\t\t\t\tflowDataToState( currentData.data.sitePages.other )\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tconst selectedPages = sitePagesResponse.body.reduce(\n\t\t\t\t\t\t( pages, sitePage ) => {\n\t\t\t\t\t\t\treturn sitePage?.selected\n\t\t\t\t\t\t\t\t? pages.concat( sitePage.slug )\n\t\t\t\t\t\t\t\t: pages;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[]\n\t\t\t\t\t);\n\t\t\t\t\thandleCheckedPages( selectedPages, sitePagesResponse.body );\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetSitePages( sitePagesResponse.body );\n\t\t}\n\t};\n\n\tconst stateToFlowData = ( selectedPages, pages ) => {\n\t\treturn pages !== false\n\t\t\t? pages?.reduce( ( newSitePages, sitePage ) => {\n\t\t\t\t\treturn selectedPages.includes( sitePage.slug )\n\t\t\t\t\t\t? newSitePages.concat( {\n\t\t\t\t\t\t\t\tslug: sitePage.slug,\n\t\t\t\t\t\t\t\ttitle: sitePage.title,\n\t\t\t\t\t\t  } )\n\t\t\t\t\t\t: newSitePages;\n\t\t\t  }, [] )\n\t\t\t: undefined;\n\t};\n\n\tconst flowDataToState = ( selectedPages ) => {\n\t\treturn selectedPages.map( ( selectedPage ) => {\n\t\t\treturn selectedPage.slug;\n\t\t} );\n\t};\n\n\tconst handleCheckedPages = ( selectedPages, pages = false ) => {\n\t\tsetCheckedPages( selectedPages );\n\t\tcurrentData.data.sitePages.other =\n\t\t\tselectedPages.length !== 0\n\t\t\t\t? stateToFlowData( selectedPages, pages )\n\t\t\t\t: false;\n\t\tsetCurrentOnboardingData( currentData );\n\t};\n\n\tconst handleClick = ( isChecked, slug ) => {\n\t\tif ( isChecked === true && ! checkedPages.includes( slug ) ) {\n\t\t\thandleCheckedPages( checkedPages.concat( slug ), sitePages );\n\t\t} else if ( isChecked === false ) {\n\t\t\thandleCheckedPages(\n\t\t\t\tcheckedPages.filter( ( selectedPage ) => {\n\t\t\t\t\treturn selectedPage !== slug;\n\t\t\t\t} ),\n\t\t\t\tsitePages\n\t\t\t);\n\t\t}\n\t};\n\n\tconst buildPreviews = () => {\n\t\treturn (\n\t\t\tcheckedPages &&\n\t\t\tsitePages?.map( ( sitePage, idx ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<LivePreviewSelectableCardWithInfo\n\t\t\t\t\t\tkey={ idx }\n\t\t\t\t\t\tclassName={ 'site-pages__list__item' }\n\t\t\t\t\t\tblockGrammer={ sitePage.content }\n\t\t\t\t\t\tviewportWidth={ 1200 }\n\t\t\t\t\t\tstyling={ 'custom' }\n\t\t\t\t\t\toverlay={ true }\n\t\t\t\t\t\ttitle={ sitePage?.title }\n\t\t\t\t\t\tslug={ sitePage.slug }\n\t\t\t\t\t\tselected={ checkedPages.includes( sitePage.slug ) }\n\t\t\t\t\t\tonClick={ handleClick }\n\t\t\t\t\t\tdescription={ sitePage?.description }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} )\n\t\t);\n\t};\n\n\tuseEffect( () => {\n\t\tif ( themeStatus === THEME_STATUS_ACTIVE ) getSitePages();\n\t}, [ themeStatus ] );\n\n\treturn (\n\t\t<DesignStateHandler>\n\t\t\t<GlobalStylesProvider>\n\t\t\t\t<CommonLayout>\n\t\t\t\t\t<div className=\"site-pages\">\n\t\t\t\t\t\t<HeadingWithSubHeading\n\t\t\t\t\t\t\ttitle={ currentStep?.heading }\n\t\t\t\t\t\t\tsubtitle={ currentStep?.subheading }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"site-pages__list\">\n\t\t\t\t\t\t\t<LivePreviewSkeleton\n\t\t\t\t\t\t\t\tclassName={ 'site-pages__list__item' }\n\t\t\t\t\t\t\t\tcount={\n\t\t\t\t\t\t\t\t\tthemeVariations[ currentStep?.patternId ]\n\t\t\t\t\t\t\t\t\t\t?.previewCount\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twatch={ sitePages }\n\t\t\t\t\t\t\t\tisWithCard={ true }\n\t\t\t\t\t\t\t\tcallback={ buildPreviews }\n\t\t\t\t\t\t\t\tviewportWidth={ 1200 }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</CommonLayout>\n\t\t\t</GlobalStylesProvider>\n\t\t</DesignStateHandler>\n\t);\n};\n\nexport default StepSitePages;\n"],"names":["CommonLayout","HeadingWithSubHeading","NeedHelpTag","StepErrorState","title","subtitle","error","Animate","ImageUploadLoader","default","StepLoader","__","sprintf","getContents","brandName","loader","errorState","useSelect","useDispatch","Fragment","useEffect","useViewportMatch","store","nfdOnboardingStore","getThemeStatus","install","installTheme","THEME_STATUS_INIT","THEME_STATUS_INSTALLING","THEME_STATUS_NOT_ACTIVE","THEME_STATUS_ACTIVE","DESIGN_STEPS_THEME","THEME_INSTALL_WAIT_TIMEOUT","THEME_STATUS_FAILURE","ExitToWordPress","DesignStateHandler","children","navigationStateCallback","isLargeViewport","storedThemeStatus","select","getNewfoldBrandName","contents","updateThemeStatus","setIsDrawerOpened","setIsDrawerSuppressed","setIsHeaderNavigationEnabled","checkThemeStatus","themeStatus","body","status","waitForInstall","setTimeout","window","location","reload","enableNavigation","disableNavigation","handleNavigationStateCallback","handleNavigationState","handleThemeStatus","installThemeManually","themeInstallStatus","handleRender","useState","useLocation","getPatterns","SIDEBAR_LEARN_MORE","VIEW_NAV_DESIGN","GlobalStylesProvider","LivePreviewSelectableCardWithInfo","LivePreviewSkeleton","StepSitePages","sitePages","setSitePages","checkedPages","setCheckedPages","currentStep","currentData","themeVariations","getStepFromPath","pathname","getCurrentOnboardingData","getStepPreviewData","setDrawerActiveView","setSidebarActiveView","setCurrentOnboardingData","getSitePages","sitePagesResponse","patternId","data","other","length","flowDataToState","selectedPages","reduce","pages","sitePage","selected","concat","slug","handleCheckedPages","stateToFlowData","newSitePages","includes","undefined","map","selectedPage","handleClick","isChecked","filter","buildPreviews","idx","content","description","heading","subheading","previewCount"],"sourceRoot":""}
{"version":3,"file":"src_OnboardingSPA_pages_Steps_Complete_index_js.js","mappings":"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","sources":["webpack://newfold.Onboarding/./src/OnboardingSPA/components/ErrorState/Step/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/components/Loaders/ImageUpload/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/components/Loaders/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/components/StateHandlers/Design/contents.js","webpack://newfold.Onboarding/./src/OnboardingSPA/components/StateHandlers/Design/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/pages/Steps/Complete/contents.js","webpack://newfold.Onboarding/./src/OnboardingSPA/pages/Steps/Complete/index.js"],"sourcesContent":["import CommonLayout from '../../Layouts/Common';\nimport HeadingWithSubHeading from '../../HeadingWithSubHeading';\nimport NeedHelpTag from '../../NeedHelpTag';\n\nconst StepErrorState = ( { title, subtitle, error } ) => {\n\treturn (\n\t\t<CommonLayout className=\"step-error-state\" isVerticallyCentered>\n\t\t\t<HeadingWithSubHeading title={ title } subtitle={ subtitle } />\n\t\t\t<div className=\"step-error-state__logo\"></div>\n\t\t\t<h3 className=\"step-error-state__error\">{ error }</h3>\n\t\t\t<NeedHelpTag />\n\t\t</CommonLayout>\n\t);\n};\n\nexport default StepErrorState;\n","import Animate from '../../Animate';\n\nconst ImageUploadLoader = () => {\n\treturn (\n\t\t<div className=\"image-upload-loader--loading-box\">\n\t\t\t<Animate\n\t\t\t\ttype={ 'load' }\n\t\t\t\tclassName=\"image-upload-loader--loading-box__loader\"\n\t\t\t></Animate>\n\t\t</div>\n\t);\n};\n\nexport default ImageUploadLoader;\n","export { default as StepLoader } from \"./Step\";\nexport { default as ImageUploadLoader } from \"./ImageUpload\";\n","import { __, sprintf } from '@wordpress/i18n';\n\nconst getContents = ( brandName ) => {\n\treturn {\n\t\tloader: {\n\t\t\ttitle: sprintf(\n\t\t\t\t/* translators: %s: Brand */\n\t\t\t\t__( 'Preparing your %s design studio', 'wp-module-onboarding' ),\n\t\t\t\tbrandName\n\t\t\t),\n\t\t\tsubtitle: __(\n\t\t\t\t'Hang tight while we show you some of the best WordPress has to offer!',\n\t\t\t\t'wp-module-onboarding'\n\t\t\t),\n\t\t},\n\t\terrorState: {\n\t\t\ttitle: sprintf(\n\t\t\t\t/* translators: %s: Brand */\n\t\t\t\t__( 'Preparing your %s design studio', 'wp-module-onboarding' ),\n\t\t\t\tbrandName\n\t\t\t),\n\t\t\tsubtitle: __(\n\t\t\t\t'Hang tight while we show you some of the best WordPress has to offer!',\n\t\t\t\t'wp-module-onboarding'\n\t\t\t),\n\t\t\terror: __(\n\t\t\t\t'Uh-oh, something went wrong. Please contact support.',\n\t\t\t\t'wp-module-onboarding'\n\t\t\t),\n\t\t},\n\t};\n};\n\nexport default getContents;\n","import { useSelect, useDispatch } from '@wordpress/data';\nimport { Fragment, useEffect } from '@wordpress/element';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\nimport { StepLoader } from '../../Loaders';\nimport { store as nfdOnboardingStore } from '../../../store';\nimport {\n\tgetThemeStatus,\n\tinstall as installTheme,\n} from '../../../utils/api/themes';\nimport {\n\tTHEME_STATUS_INIT,\n\tTHEME_STATUS_INSTALLING,\n\tTHEME_STATUS_NOT_ACTIVE,\n\tTHEME_STATUS_ACTIVE,\n\tDESIGN_STEPS_THEME,\n\tTHEME_INSTALL_WAIT_TIMEOUT,\n\tTHEME_STATUS_FAILURE,\n} from '../../../../constants';\nimport { StepErrorState } from '../../ErrorState';\nimport getContents from './contents';\nimport ExitToWordPress from '../../ExitToWordPress';\n\nconst DesignStateHandler = ( {\n\tchildren,\n\tnavigationStateCallback = false,\n} ) => {\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\n\tconst { storedThemeStatus, brandName } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tstoredThemeStatus: select( nfdOnboardingStore ).getThemeStatus(),\n\t\t\tbrandName: select( nfdOnboardingStore ).getNewfoldBrandName(),\n\t\t};\n\t}, [] );\n\n\tconst contents = getContents( brandName );\n\n\tconst {\n\t\tupdateThemeStatus,\n\t\tsetIsDrawerOpened,\n\t\tsetIsDrawerSuppressed,\n\t\tsetIsHeaderNavigationEnabled,\n\t} = useDispatch( nfdOnboardingStore );\n\n\tconst checkThemeStatus = async () => {\n\t\tconst themeStatus = await getThemeStatus( DESIGN_STEPS_THEME );\n\t\tif ( themeStatus?.error ) {\n\t\t\treturn THEME_STATUS_NOT_ACTIVE;\n\t\t}\n\t\treturn themeStatus.body.status;\n\t};\n\n\tconst waitForInstall = () => {\n\t\tsetTimeout( async () => {\n\t\t\tconst themeStatus = await checkThemeStatus();\n\t\t\tif ( themeStatus !== THEME_STATUS_ACTIVE ) {\n\t\t\t\treturn updateThemeStatus( THEME_STATUS_NOT_ACTIVE );\n\t\t\t}\n\t\t\twindow.location.reload();\n\t\t}, THEME_INSTALL_WAIT_TIMEOUT );\n\t};\n\n\tconst enableNavigation = () => {\n\t\tif ( isLargeViewport ) {\n\t\t\tsetIsDrawerOpened( true );\n\t\t}\n\t\tsetIsDrawerSuppressed( false );\n\t\tsetIsHeaderNavigationEnabled( true );\n\t};\n\n\tconst disableNavigation = () => {\n\t\tsetIsDrawerOpened( false );\n\t\tsetIsDrawerSuppressed( true );\n\t\tsetIsHeaderNavigationEnabled( false );\n\t};\n\n\tconst handleNavigationStateCallback = () => {\n\t\tif ( typeof navigationStateCallback === 'function' ) {\n\t\t\treturn navigationStateCallback();\n\t\t}\n\t\tenableNavigation();\n\t};\n\n\tconst handleNavigationState = () => {\n\t\tswitch ( storedThemeStatus ) {\n\t\t\tcase THEME_STATUS_FAILURE:\n\t\t\tcase THEME_STATUS_ACTIVE:\n\t\t\t\treturn handleNavigationStateCallback();\n\t\t\tdefault:\n\t\t\t\tdisableNavigation();\n\t\t}\n\t};\n\n\tconst handleThemeStatus = async () => {\n\t\tconst themeStatus = await checkThemeStatus();\n\t\tswitch ( themeStatus ) {\n\t\t\tcase THEME_STATUS_INSTALLING:\n\t\t\t\twaitForInstall();\n\t\t\t\tbreak;\n\t\t\tcase THEME_STATUS_ACTIVE:\n\t\t\t\twindow.location.reload();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tupdateThemeStatus( themeStatus );\n\t\t}\n\t};\n\n\tuseEffect( () => {\n\t\thandleNavigationState();\n\n\t\tif ( storedThemeStatus === THEME_STATUS_INIT ) {\n\t\t\thandleThemeStatus( storedThemeStatus );\n\t\t}\n\t}, [ storedThemeStatus ] );\n\n\tconst installThemeManually = async () => {\n\t\tupdateThemeStatus( THEME_STATUS_INSTALLING );\n\t\tconst themeInstallStatus = await installTheme(\n\t\t\tDESIGN_STEPS_THEME,\n\t\t\ttrue,\n\t\t\tfalse\n\t\t);\n\t\tif ( themeInstallStatus.error ) {\n\t\t\treturn updateThemeStatus( THEME_STATUS_FAILURE );\n\t\t}\n\n\t\treturn window.location.reload();\n\t};\n\n\tconst handleRender = () => {\n\t\tswitch ( storedThemeStatus ) {\n\t\t\tcase THEME_STATUS_NOT_ACTIVE:\n\t\t\t\treturn (\n\t\t\t\t\t<ExitToWordPress\n\t\t\t\t\t\tshowButton={ false }\n\t\t\t\t\t\tisModalOpen={ true }\n\t\t\t\t\t\tmodalTitle={ __(\n\t\t\t\t\t\t\t'It looks like you may have an existing website',\n\t\t\t\t\t\t\t'wp-module-onboarding'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tmodalText={ __(\n\t\t\t\t\t\t\t'Going through this setup will change your active theme, WordPress settings, add content – would you like to continue?',\n\t\t\t\t\t\t\t'wp-module-onboarding'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tmodalOnClose={ installThemeManually }\n\t\t\t\t\t\tmodalExitButtonText={ __(\n\t\t\t\t\t\t\t'Exit to WordPress',\n\t\t\t\t\t\t\t'wp-module-onboarding'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase THEME_STATUS_FAILURE:\n\t\t\t\treturn (\n\t\t\t\t\t<StepErrorState\n\t\t\t\t\t\ttitle={ contents.errorState.title }\n\t\t\t\t\t\tsubtitle={ contents.errorState.subtitle }\n\t\t\t\t\t\terror={ contents.errorState.error }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase THEME_STATUS_ACTIVE:\n\t\t\t\treturn children;\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<StepLoader\n\t\t\t\t\t\ttitle={ contents.loader.title }\n\t\t\t\t\t\tsubtitle={ contents.loader.subtitle }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t}\n\t};\n\n\treturn <Fragment>{ handleRender() }</Fragment>;\n};\n\nexport default DesignStateHandler;\n","import { __, sprintf } from '@wordpress/i18n';\n\nimport { translations } from '../../../utils/locales/translations';\n\nconst getContents = ( brandName ) => {\n\treturn {\n\t\tloader: {\n\t\t\ttitle: sprintf(\n\t\t\t\t/* translators: 1: Brand 2: site */\n\t\t\t\t__(\n\t\t\t\t\t'Hang tight, we’re building your %s %s',\n\t\t\t\t\t'wp-module-onboarding'\n\t\t\t\t),\n\t\t\t\tbrandName,\n\t\t\t\ttranslations( 'site' )\n\t\t\t),\n\t\t\tsubtitle: __(\n\t\t\t\t'We’re assembling your unique design and installing useful tools',\n\t\t\t\t'wp-module-onboarding'\n\t\t\t),\n\t\t},\n\t\terrorState: {\n\t\t\ttitle: sprintf(\n\t\t\t\t/* translators: 1: Brand 2: site */\n\t\t\t\t__(\n\t\t\t\t\t'Hang tight, we’re building your %s %s',\n\t\t\t\t\t'wp-module-onboarding'\n\t\t\t\t),\n\t\t\t\tbrandName,\n\t\t\t\ttranslations( 'site' )\n\t\t\t),\n\t\t\tsubtitle: __(\n\t\t\t\t'We’re assembling your unique design and installing useful tools',\n\t\t\t\t'wp-module-onboarding'\n\t\t\t),\n\t\t\terror: __(\n\t\t\t\t'Uh-oh, something went wrong. Please contact support.',\n\t\t\t\t'wp-module-onboarding'\n\t\t\t),\n\t\t},\n\t};\n};\n\nexport default getContents;\n","import { store as nfdOnboardingStore } from '../../../store';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useEffect, useState } from '@wordpress/element';\nimport { useNavigate } from 'react-router-dom';\n\nimport getContents from './contents';\nimport { completeFlow } from '../../../utils/api/flow';\nimport { StepLoader } from '../../../components/Loaders';\nimport { setSiteFeatures } from '../../../utils/api/plugins';\nimport { StepErrorState } from '../../../components/ErrorState';\nimport { DesignStateHandler } from '../../../components/StateHandlers';\nimport { THEME_STATUS_INIT } from '../../../../constants';\n\nconst StepComplete = () => {\n\tconst {\n\t\tsetIsDrawerSuppressed,\n\t\tsetIsHeaderNavigationEnabled,\n\t\tsetSidebarActiveView,\n\t\tupdateThemeStatus,\n\t\tflushQueue,\n\t} = useDispatch( nfdOnboardingStore );\n\n\tconst navigate = useNavigate();\n\tconst [ isError, setIsError ] = useState( false );\n\n\tconst {\n\t\tnextStep,\n\t\tbrandName,\n\t\tcurrentData,\n\t\tisQueueEmpty,\n\t\tpluginInstallHash,\n\t} = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tnextStep: select( nfdOnboardingStore ).getNextStep(),\n\t\t\tbrandName: select( nfdOnboardingStore ).getNewfoldBrandName(),\n\t\t\tcurrentData:\n\t\t\t\tselect( nfdOnboardingStore ).getCurrentOnboardingData(),\n\t\t\tisQueueEmpty: select( nfdOnboardingStore ).isQueueEmpty(),\n\t\t\tpluginInstallHash:\n\t\t\t\tselect( nfdOnboardingStore ).getPluginInstallHash(),\n\t\t};\n\t}, [] );\n\n\tconst contents = getContents( brandName );\n\n\tconst checkFlowComplete = async () => {\n\t\tawait Promise.all( [\n\t\t\tcompleteFlowRequest(),\n\t\t\tsetSiteFeaturesRequest(),\n\t\t] ).then( ( values ) =>\n\t\t\tvalues.forEach( ( value ) => {\n\t\t\t\t// If any Request returns False then Show Error\n\t\t\t\tif ( ! value ) {\n\t\t\t\t\tsetIsHeaderNavigationEnabled( true );\n\t\t\t\t\treturn setIsError( true );\n\t\t\t\t}\n\t\t\t} )\n\t\t);\n\n\t\tnavigate( nextStep.path );\n\t\tupdateThemeStatus( THEME_STATUS_INIT );\n\t};\n\n\tasync function completeFlowRequest() {\n\t\tconst flowCompletionResponse = await completeFlow();\n\t\tif ( flowCompletionResponse?.error ) return false;\n\t\treturn true;\n\t}\n\n\tasync function setSiteFeaturesRequest() {\n\t\tif ( Array.isArray( currentData?.data?.siteFeatures ) ) return true;\n\n\t\tconst siteFeaturesResponse = await setSiteFeatures( pluginInstallHash, {\n\t\t\tplugins: currentData?.data?.siteFeatures,\n\t\t} );\n\t\tif ( siteFeaturesResponse?.error ) return false;\n\n\t\treturn true;\n\t}\n\n\tconst setNavigationState = () => {\n\t\tsetIsHeaderNavigationEnabled( false );\n\t\tsetIsDrawerSuppressed( true );\n\t\tsetSidebarActiveView( false );\n\t};\n\n\tuseEffect( () => {\n\t\tif ( isQueueEmpty ) checkFlowComplete();\n\t\telse flushQueue();\n\t}, [ isQueueEmpty ] );\n\n\treturn (\n\t\t<DesignStateHandler navigationStateCallback={ setNavigationState }>\n\t\t\t{ isError ? (\n\t\t\t\t<StepErrorState\n\t\t\t\t\ttitle={ contents.errorState.title }\n\t\t\t\t\tsubtitle={ contents.errorState.subtitle }\n\t\t\t\t\terror={ contents.errorState.error }\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<StepLoader\n\t\t\t\t\ttitle={ contents.loader.title }\n\t\t\t\t\tsubtitle={ contents.loader.subtitle }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</DesignStateHandler>\n\t);\n};\n\nexport default StepComplete;\n"],"names":["CommonLayout","HeadingWithSubHeading","NeedHelpTag","StepErrorState","title","subtitle","error","Animate","ImageUploadLoader","default","StepLoader","__","sprintf","getContents","brandName","loader","errorState","useSelect","useDispatch","Fragment","useEffect","useViewportMatch","store","nfdOnboardingStore","getThemeStatus","install","installTheme","THEME_STATUS_INIT","THEME_STATUS_INSTALLING","THEME_STATUS_NOT_ACTIVE","THEME_STATUS_ACTIVE","DESIGN_STEPS_THEME","THEME_INSTALL_WAIT_TIMEOUT","THEME_STATUS_FAILURE","ExitToWordPress","DesignStateHandler","children","navigationStateCallback","isLargeViewport","storedThemeStatus","select","getNewfoldBrandName","contents","updateThemeStatus","setIsDrawerOpened","setIsDrawerSuppressed","setIsHeaderNavigationEnabled","checkThemeStatus","themeStatus","body","status","waitForInstall","setTimeout","window","location","reload","enableNavigation","disableNavigation","handleNavigationStateCallback","handleNavigationState","handleThemeStatus","installThemeManually","themeInstallStatus","handleRender","translations","useState","useNavigate","completeFlow","setSiteFeatures","StepComplete","setSidebarActiveView","flushQueue","navigate","isError","setIsError","nextStep","currentData","isQueueEmpty","pluginInstallHash","getNextStep","getCurrentOnboardingData","getPluginInstallHash","checkFlowComplete","Promise","all","completeFlowRequest","setSiteFeaturesRequest","then","values","forEach","value","path","flowCompletionResponse","Array","isArray","data","siteFeatures","siteFeaturesResponse","plugins","setNavigationState"],"sourceRoot":""}
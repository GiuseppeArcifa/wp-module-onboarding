{"version":3,"file":"src_OnboardingSPA_pages_Steps_Ecommerce_StepTax_index_js.js","mappings":"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","sources":["webpack://newfold.Onboarding/./src/OnboardingSPA/components/CardHeader/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/components/NewfoldLargeCard/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/pages/Steps/Ecommerce/StepTax/contents.js","webpack://newfold.Onboarding/./src/OnboardingSPA/pages/Steps/Ecommerce/StepTax/index.js","webpack://newfold.Onboarding/./src/OnboardingSPA/pages/Steps/Ecommerce/useWPSettings.js"],"sourcesContent":["/**\n * Common Heading Component for Card Header\n * Includes one heading, one sub-heading and one question\n * More text types can be added later based on requirements\n *\n * @return CardHeader\n */\n\nimport { memo } from '@wordpress/element';\n\nconst CardHeader = ( { heading, subHeading, question } ) => {\n\treturn (\n\t\t<div>\n\t\t\t{ heading && (\n\t\t\t\t<h2 className=\"nfd-step-card-heading\">{ heading }</h2>\n\t\t\t) }\n\n\t\t\t{ subHeading && (\n\t\t\t\t<h3\n\t\t\t\t\tclassName={\n\t\t\t\t\t\tquestion\n\t\t\t\t\t\t\t? 'nfd-step-card-subheading-other'\n\t\t\t\t\t\t\t: 'nfd-step-card-subheading'\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{ subHeading }\n\t\t\t\t</h3>\n\t\t\t) }\n\n\t\t\t{ question && (\n\t\t\t\t<h3 className=\"nfd-step-card-question\">{ question }</h3>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\nexport default memo( CardHeader );\n","import classNames from 'classnames';\n\nconst NewfoldLargeCard = ( { className = '', children } ) => {\n\treturn (\n\t\t<div className={ classNames( 'nfd-onboarding-large-card', className ) }>\n\t\t\t<div className={ `nfd-onboarding-large-card__logo` }></div>\n\t\t\t{ children }\n\t\t</div>\n\t);\n};\n\nexport default NewfoldLargeCard;\n","import { __ } from '@wordpress/i18n';\n\nconst getContents = () => {\n\treturn {\n\t\theading: __( 'Configure your tax information', 'wp-module-onboarding' ),\n\t\tsubheading: __(\n\t\t\t'Do you want to enable tax rates and calculations?',\n\t\t\t'wp-module-onboarding'\n\t\t),\n\t\toptions: [\n\t\t\t{\n\t\t\t\tcontent: __(\n\t\t\t\t\t'Yes, enable tax rates and calculations',\n\t\t\t\t\t'wp-module-onboarding'\n\t\t\t\t),\n\t\t\t\tvalue: '1',\n\t\t\t\tdata: {\n\t\t\t\t\twc_connect_taxes_enabled: 'yes',\n\t\t\t\t\twoocommerce_calc_taxes: 'yes',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tcontent: __(\n\t\t\t\t\t'I will configure my own tax information later',\n\t\t\t\t\t'wp-module-onboarding'\n\t\t\t\t),\n\t\t\t\tvalue: '3',\n\t\t\t\tdata: {\n\t\t\t\t\twc_connect_taxes_enabled: 'no',\n\t\t\t\t\twoocommerce_calc_taxes: 'yes',\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tcontent: __(\n\t\t\t\t\t\"I don't charge sales tax\",\n\t\t\t\t\t'wp-module-onboarding'\n\t\t\t\t),\n\t\t\t\tvalue: '5',\n\t\t\t\tdata: {\n\t\t\t\t\twoocommerce_no_sales_tax: true,\n\t\t\t\t\twoocommerce_calc_taxes: 'no',\n\t\t\t\t\twc_connect_taxes_enabled: 'no',\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tbuttonText: __( 'Continue Setup', 'wp-module-onboarding' ),\n\t};\n};\n\nexport default getContents;\n","import { RadioControl } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useEffect, useState } from '@wordpress/element';\nimport { useNavigate } from 'react-router-dom';\nimport {\n\tSIDEBAR_LEARN_MORE,\n\tVIEW_NAV_ECOMMERCE_STORE_INFO,\n} from '../../../../../constants';\nimport CardHeader from '../../../../components/CardHeader';\nimport CommonLayout from '../../../../components/Layouts/Common';\nimport NeedHelpTag from '../../../../components/NeedHelpTag';\nimport NewfoldLargeCard from '../../../../components/NewfoldLargeCard';\nimport { store as nfdOnboardingStore } from '../../../../store';\nimport { useWPSettings as getWPSettings } from '../useWPSettings';\nimport Animate from '../../../../components/Animate';\nimport getContents from './contents';\nimport { trackHiiveEvent } from '../../../../utils/analytics';\n\nfunction createReverseLookup( state ) {\n\treturn ( option ) =>\n\t\tObject.entries( option.data ).every(\n\t\t\t( [ key, value ] ) => state?.[ key ] === value\n\t\t);\n}\n\nconst StepTax = () => {\n\tconst {\n\t\tsetDrawerActiveView,\n\t\tsetSidebarActiveView,\n\t\tsetCurrentOnboardingData,\n\t} = useDispatch( nfdOnboardingStore );\n\tconst navigate = useNavigate();\n\tconst [ settings, setSettings ] = useState();\n\n\tconst currentData = useSelect( ( select ) =>\n\t\tselect( nfdOnboardingStore ).getCurrentOnboardingData()\n\t);\n\n\tconst setWPSettings = async () => {\n\t\tconst wpSettings = await getWPSettings();\n\t\tsetSettings( wpSettings );\n\t};\n\n\tuseEffect( () => {\n\t\tsetSidebarActiveView( SIDEBAR_LEARN_MORE );\n\t\tsetDrawerActiveView( VIEW_NAV_ECOMMERCE_STORE_INFO );\n\t\tsetWPSettings();\n\t}, [] );\n\n\tconst content = getContents();\n\n\tuseEffect( () => {\n\t\tif (\n\t\t\tsettings &&\n\t\t\tsettings !== null &&\n\t\t\tcurrentData.storeDetails.tax === undefined\n\t\t) {\n\t\t\tconst selectedTaxOption = content.options.find(\n\t\t\t\tcreateReverseLookup( settings )\n\t\t\t);\n\t\t\tconst tax = selectedTaxOption?.data ?? {};\n\t\t\tsetCurrentOnboardingData( {\n\t\t\t\t...currentData,\n\t\t\t\tstoreDetails: {\n\t\t\t\t\t...currentData.storeDetails,\n\t\t\t\t\ttax: {\n\t\t\t\t\t\t...( currentData.storeDetails.tax ?? {} ),\n\t\t\t\t\t\t...tax,\n\t\t\t\t\t\toption: selectedTaxOption?.value,\n\t\t\t\t\t\tisStoreDetailsFilled:\n\t\t\t\t\t\t\tsettings.woocommerce_store_postcode !== null,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\t}, [ settings, currentData.storeDetails ] );\n\n\tconst { tax } = currentData.storeDetails;\n\tconst handleButtonClick = () => {\n\t\t//Commented as auto-calculate tax option is removed for MMP\n\t\t// let isAddressNeeded = tax?.option === \"1\" && !tax.isStoreDetailsFilled;\n\t\t// navigate(\n\t\t// \tisAddressNeeded ? '/ecommerce/step/address' : '/ecommerce/step/products'\n\t\t// );\n\n\t\tnavigate( '/ecommerce/step/products' );\n\t};\n\n\tconst selectOption = ( value ) => {\n\t\tconst selectedOption = content.options.find(\n\t\t\t( option ) => option.value === value\n\t\t);\n\t\tsetCurrentOnboardingData( {\n\t\t\t...currentData,\n\t\t\tstoreDetails: {\n\t\t\t\t...currentData.storeDetails,\n\t\t\t\ttax: {\n\t\t\t\t\t...selectedOption.data,\n\t\t\t\t\toption: selectedOption.value,\n\t\t\t\t\tisStoreDetailsFilled: tax?.isStoreDetailsFilled,\n\t\t\t\t},\n\t\t\t},\n\t\t} );\n\n\t\ttrackHiiveEvent( 'tax-information', selectedOption.content );\n\t};\n\n\treturn (\n\t\t<CommonLayout isBgPrimary isCentered>\n\t\t\t<NewfoldLargeCard className=\"ecommerce-step\">\n\t\t\t\t<div className=\"nfd-onboarding-experience-step onboarding-ecommerce-step\">\n\t\t\t\t\t<div className=\"nfd-card-heading center onboarding-ecommerce-step\">\n\t\t\t\t\t\t<CardHeader\n\t\t\t\t\t\t\theading={ content.heading }\n\t\t\t\t\t\t\tsubHeading={ content.subheading }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Animate type={ 'fade-in-disabled' } after={ settings }>\n\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t'nfd-onboarding-experience-step-tabs components-radio-control__input radio-control-tax-step radio-control-main'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tselected={ tax?.option }\n\t\t\t\t\t\t\toptions={ content.options.map( ( option ) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tlabel: option.content,\n\t\t\t\t\t\t\t\t\tvalue: option.value,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\tonChange={ ( value ) => selectOption( value ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Animate>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"nfd-nav-card-button nfd-card-button\"\n\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\tsettings === null || tax?.option === undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={ handleButtonClick }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ content.buttonText }\n\t\t\t\t\t</button>\n\t\t\t\t\t<NeedHelpTag />\n\t\t\t\t</div>\n\t\t\t</NewfoldLargeCard>\n\t\t</CommonLayout>\n\t);\n};\n\nexport default StepTax;\n","import { fetchWPSettings } from '../../../utils/api/ecommerce';\n\nexport async function useWPSettings() {\n\tconst settings = await fetchWPSettings().catch( () => ( {} ) );\n\treturn settings;\n}\n"],"names":["memo","CardHeader","heading","subHeading","question","classNames","NewfoldLargeCard","className","children","__","getContents","subheading","options","content","value","data","wc_connect_taxes_enabled","woocommerce_calc_taxes","woocommerce_no_sales_tax","buttonText","RadioControl","useDispatch","useSelect","useEffect","useState","useNavigate","SIDEBAR_LEARN_MORE","VIEW_NAV_ECOMMERCE_STORE_INFO","CommonLayout","NeedHelpTag","store","nfdOnboardingStore","useWPSettings","getWPSettings","Animate","trackHiiveEvent","createReverseLookup","state","option","Object","entries","every","key","StepTax","setDrawerActiveView","setSidebarActiveView","setCurrentOnboardingData","navigate","settings","setSettings","currentData","select","getCurrentOnboardingData","setWPSettings","wpSettings","storeDetails","tax","undefined","selectedTaxOption","find","isStoreDetailsFilled","woocommerce_store_postcode","handleButtonClick","selectOption","selectedOption","map","label","fetchWPSettings","catch"],"sourceRoot":""}
"use strict";(globalThis.webpackChunknewfold_Onboarding=globalThis.webpackChunknewfold_Onboarding||[]).push([[287],{7673:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(1609),o=n(8468);const i=({height:e="80px"})=>{const t={"--wnd-ai-logo-size":e,height:`var(--wnd-ai-logo-size, ${e})`};return(0,o.useEffect)((()=>{document.querySelectorAll("[data-wnd-ai-logo]").forEach((function(e){let t=!1,n=null;const a=()=>{t?document.body.classList.add("wnd-ai-logo-keydown"):document.body.classList.remove("wnd-ai-logo-keydown"),n=null};e.addEventListener("keydown",(function(){t||(t=!0,n||(n=window.requestAnimationFrame(a)))})),e.addEventListener("keyup",(function(){t=!1,n||(n=window.requestAnimationFrame(a))}))}))}),[]),(0,a.createElement)("span",{className:"wnd-ai-logo",style:t},(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--bg"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--1"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--2"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--3"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--4"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--5"}),(0,a.createElement)("span",{className:"wnd-ai-logo__circle wnd-ai-logo__circle--6"}),(0,a.createElement)("span",{className:"wnd-ai-logo__spinner"}))}},8844:(e,t,n)=>{n.d(t,{A:()=>f});var a=n(1609),o=n(8468),i=n(9491),r=n(7143),s=n(7723);var l=n(6427),d=n(7675),c=n(3988),_=n(7673),g=n(8744),u=n(2940),m=n(7835),b=n(148),p=n(8969);const w=()=>{const e=(0,b.Zp)(),{setIsHeaderEnabled:t,setSidebarActiveView:n,setHeaderActiveView:w,setDrawerActiveView:f,setHideFooterNav:E,setIsHeaderNavigationEnabled:h,updateAllSteps:v,updateTopSteps:N,updateRoutes:S,updateDesignRoutes:y,updateInitialize:k,setCurrentOnboardingData:x,updateSiteGenErrorStatus:A,setContinueWithoutAi:C}=(0,r.useDispatch)(d.M);(0,o.useEffect)((()=>{E(!0),t(!0),n(!1),w(p.Ix),h(!0),f(!1)}));const{brandConfig:D,currentData:I}=(0,r.useSelect)((e=>({brandConfig:e(d.M).getNewfoldBrandConfig(),currentData:e(d.M).getCurrentOnboardingData()}))),F=(0,i.useViewportMatch)("small"),M={heading:(0,s.__)("Sorry, we're having trouble communicating with our AI service.","wp-module-onboarding"),subHeading:(0,s.__)("Do you keep getting this error?","wp-module-onboarding"),message:(0,s.__)("If you continue to get this error, you may either continue creating your site without using our AI assistant, or you can ","wp-module-onboarding"),buttonText:(0,s.__)("Try again","wp-module-onboarding"),buttonSkip:(0,s.__)("Continue without AI","wp-module-onboarding"),buttonExit:(0,s.__)("exit to WordPress","wp-module-onboarding")},O=window.nfdOnboarding?.oldFlow?window.nfdOnboarding.oldFlow:g.rA,H=()=>{A(!1)};return(0,a.createElement)(c.A,{className:"nfd-onboarding-step--site-gen__error"},(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container"},(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container__orb"},(0,a.createElement)(_.A,{height:"100px"})),(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container__heading"},(0,a.createElement)("p",{className:"nfd-onboarding-step--site-gen__error__container__heading__text"},M.heading)),(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container__sub-heading"},(0,a.createElement)("p",{className:"nfd-onboarding-step--site-gen__error__container__sub-heading__text"},M.subHeading),(0,a.createElement)("p",{className:"nfd-onboarding-step--site-gen__error__container__sub-heading__message"},M.message,(0,a.createElement)("a",{className:"nfd-onboarding-step--site-gen__error__container__sub-heading__exit",href:p.R0},M.buttonExit))),(0,a.createElement)("div",{className:"nfd-onboarding-step--site-gen__error__container__buttons"},(0,a.createElement)(l.Button,{className:"nfd-onboarding-step--site-gen__error__container__buttons__skip",onClick:()=>{(t=>{if(!(0,u.nC)(D,t))return!1;const n=window.nfdOnboarding.currentFlow,a=(0,m.Sg)(t)();v(a.steps),N(a?.topSteps),S(a.routes),y(a?.designRoutes),g.d0!==n&&(window.nfdOnboarding.oldFlow=n),window.nfdOnboarding.currentFlow=t,I.activeFlow=t,I.continueWithoutAi=!0,C(!0),x(I),A(!1),g.d0!==t&&k(!0),e(a.steps[1].path)})(O)}},M.buttonSkip),F?(0,a.createElement)(l.Button,{className:"nfd-onboarding-step--site-gen__error__container__buttons__retry",onClick:()=>{H()}},(0,a.createElement)("p",{className:"nfd-onboarding-button--site-gen-next--text"},M.buttonText)):(0,a.createElement)(l.Fill,{name:`${p.Sr}/${p.gb}`},(0,a.createElement)(l.Button,{className:"nfd-onboarding-step--site-gen__error__container__buttons__retry",onClick:()=>{H()}},(0,a.createElement)("p",{className:"nfd-onboarding-button--site-gen-next--text"},M.buttonText))))))},f=({children:e})=>{const{siteGenErrorStatus:t}=(0,r.useSelect)((e=>({siteGenErrorStatus:e(d.M).getSiteGenErrorStatus()})));return(0,a.createElement)(o.Fragment,null,t?(0,a.createElement)(w,null):e)}},5287:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var a=n(1609),o=n(7143),i=n(8468),r=n(7723);var s=n(8969),l=n(7675),d=n(3988),c=n(6942),_=n.n(c),g=n(7677),u=n(6655);const m=(0,i.memo)((({idx:e,title:t,desc:n,isSelected:o,callback:i})=>(0,a.createElement)("div",{key:e,role:"button",tabIndex:0,className:"nfd__option_heading_subheading",onClick:()=>{i&&"function"==typeof i&&i(e+1)},onKeyDown:()=>{i&&"function"==typeof i&&i(e+1)}},(0,a.createElement)("div",{className:_()("nfd__option_heading_subheading__wrapper",o&&"nfd__option_heading_subheading__wrapper--selected")},(0,a.createElement)("div",{className:"nfd__option_heading_subheading__left"},(0,a.createElement)("div",{className:"nfd__option_heading_subheading__left_top"},t),(0,a.createElement)("div",{className:"nfd__option_heading_subheading__left_bottom"},n)),(0,a.createElement)(g.A,{className:"nfd__option_heading_subheading__right",icon:u.A}))))),b=(0,i.memo)((({title:e,options:t,selection:n,callback:o})=>(0,a.createElement)("div",{className:"nfd-sg-card"},(0,a.createElement)("div",{className:"nfd-sg-card__title"},e),(0,a.createElement)("div",{className:"nfd-sg-card__data"},t.map(((e,t)=>(0,a.createElement)(m,{key:t,idx:t,title:e.title,desc:e.desc,isSelected:e.key===n,callback:o})))))));var p=n(148);const w=(0,i.memo)((({customNavPercentage:e,watcher:t=null})=>{let n=0;const s={title:(0,r.__)("Building Website","wp-module-onboarding"),status:[{title:(0,r.__)("Generating Website","wp-module-onboarding")},{title:(0,r.__)("Finding Font Pairings","wp-module-onboarding")},{title:(0,r.__)("Building Custom Color Palettes","wp-module-onboarding")},{title:(0,r.__)("Populating Images","wp-module-onboarding")},{title:(0,r.__)("Finalizing Previews","wp-module-onboarding")},{title:(0,r.__)("Packaging Website","wp-module-onboarding")}]},d=(0,p.Zp)(),[c,_]=(0,i.useState)(0),[g,u]=(0,i.useState)(s.status[n].title),{currentData:m,nextStep:b}=(0,o.useSelect)((e=>({currentData:e(l.M).getCurrentOnboardingData(),nextStep:e(l.M).getNextStep()})));return(0,i.useEffect)((()=>{const e=setInterval((()=>{n+=1,n===s.status.length&&(n=0),u(s.status[n].title)}),3e3);return()=>{clearInterval(e)}}),[]),(0,i.useEffect)((()=>{_(m?.sitegen?.siteGenMetaStatus?.currentStatus/m?.sitegen?.siteGenMetaStatus?.totalCount*100)}),[m?.sitegen?.siteGenMetaStatus?.currentStatus]),(0,i.useEffect)((()=>{if(c===e&&b){if(null!==t&&!1===t)return;d(b.path)}}),[c,t]),(0,a.createElement)("div",{className:"nfd-sg-loader"},(0,a.createElement)("div",{className:"nfd-sg-loader__title"},s.title),(0,a.createElement)("div",{className:"nfd-sg-loader__progress"},(0,a.createElement)("div",{className:"nfd-sg-loader__progress_bars"},(0,a.createElement)("div",{className:"nfd-sg-loader__progress_bars_bg"}),(0,a.createElement)("div",{className:"nfd-sg-loader__progress_bars_bar",style:{width:`${c}%`}}))),(0,a.createElement)("div",{className:"nfd-sg-loader__status"},`${g}...`))}));var f=n(8844),E=n(1056),h=n(2202),v=n(8744);const N=()=>{const e={heading:(0,r.__)("How familiar are you with using WordPress?","wp-module-onboarding"),options:[{key:1,title:(0,r.__)("Beginner","wp-module-onboarding"),desc:(0,r.__)("First time building a website using WordPress","wp-module-onboarding")},{key:2,title:(0,r.__)("Intermediate","wp-module-onboarding"),desc:(0,r.__)("Iâ€™ve built a few sites for myself or others","wp-module-onboarding")},{key:3,title:(0,r.__)("Expert","wp-module-onboarding"),desc:(0,r.__)("I do this frequently","wp-module-onboarding")}]},[t,n]=(0,i.useState)(0),{currentData:c}=(0,o.useSelect)((e=>({currentData:e(l.M).getCurrentOnboardingData()}))),{setIsHeaderEnabled:_,setSidebarActiveView:g,setHeaderActiveView:u,setDrawerActiveView:m,setHideFooterNav:p,setCurrentOnboardingData:N,setIsHeaderNavigationEnabled:S}=(0,o.useDispatch)(l.M);return(0,i.useEffect)((()=>{p(!0),_(!0),g(!1),S(!1),u(s.Ix),m(!1),c.sitegen.experience?.level&&n(c.sitegen.experience.level)})),(0,a.createElement)(f.A,null,(0,a.createElement)(d.A,{isCentered:!0},(0,a.createElement)("div",{className:"nfd-sg-experience-level"},(0,a.createElement)(w,{watcher:0!==t,customNavPercentage:100}),(0,a.createElement)(b,{title:e.heading,options:e.options,selection:t,callback:e=>{n(e),c.sitegen.experience.level=e,N(c);let t=!1;switch(e){case 1:t="novice";break;case 2:t="intermediate";break;case 3:t="expert"}t&&(0,E.v)(new E.iC(h.k2,t,{source:v.d0}))}}))))}}}]);
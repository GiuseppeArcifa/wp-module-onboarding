"use strict";(self.webpackChunknewfold_Onboarding=self.webpackChunknewfold_Onboarding||[]).push([[716],{6716:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var n=a(9307),s=a(2819),c=a(4333),l=a(9818),o=a(6831),r=a(2200),i=a(5634),d=a(3421),u=a(4316),m=a(1984),h=a(6058),b=a(5609),p=a(682),g=({name:e,icon:t,title:a,desc:s,subtitle:c,callback:l,tabIndex:o=0,isSelectedDefault:r,className:i="checkbox-item"})=>{const[d,u]=(0,n.useState)(!1),[g,E]=(0,n.useState)(r),v=()=>{u(!d)};return(0,n.createElement)("div",null,(0,n.createElement)("div",{className:`${i} ${g&&`${i}--selected`} ${d&&`${i}--shown`}`},(0,n.createElement)("div",{className:`${i}-container`},(0,n.createElement)(b.CheckboxControl,{checked:g,onChange:()=>{E(!g),l(e,!g)},className:`${i}-checkbox`}),(0,n.createElement)("div",{className:`${i}__contents`},(0,n.createElement)("div",{className:`${i}__contents-icon\n                                     ${g&&`${i}__contents-icon--selected`}\n                                     ${d&&`${i}__contents-icon--shown`}`},(0,n.createElement)("div",{style:{width:"35px",height:"35px",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundImage:`var(${t})`,filter:g?"invert(100%) sepia(100%) saturate(0%) hue-rotate(288deg) brightness(102%) contrast(102%)":"none"}})),(0,n.createElement)("div",{className:`${i}__contents-text`},(0,n.createElement)("div",{className:`${i}__contents-text-title ${g&&`${i}__contents-text-title--selected`}`},a),(0,n.createElement)("div",{className:`${i}__contents-text-subtitle`},c)),(0,n.createElement)("div",{className:`${i}__contents-help ${d?"highlighted":""}`,onClick:v,role:"button",onKeyDown:v,tabIndex:o},(0,n.createElement)(m.Z,{icon:h.Z,style:{width:"30px",height:"30px"}}))))),d&&(0,n.createElement)(p.Z,{className:` ${i}__dropdown `,type:"dropdown"},(0,n.createElement)("div",{className:`${i}__desc`},s)))},E=({count:e})=>{const t=()=>{const t=[];for(let a=0;a<e;a++)t.push((0,n.createElement)(p.Z,{type:"shine-placeholder",className:"checkbox-skeleton-item"}));return t};return(0,n.createElement)("div",{className:"checkbox-list"},(0,n.createElement)("div",{className:"checkbox-list-col"},t().slice(0,Math.floor(e/2))),(0,n.createElement)("div",{className:"checkbox-list-col"},t().slice(Math.floor(e/2),e)))},v=({callback:e,selectedItems:t,customItemsList:a})=>{const s=Object.keys(a).length,c=()=>{var s=[];for(const l in a){var c=a[l];const o=t[c.slug];s.push((0,n.createElement)(g,{name:c.slug,icon:c.icon,title:c.title,subtitle:c.subtitle,desc:c.desc,callback:e,isSelectedDefault:null!=o&&o}))}return s};return(0,n.createElement)("div",{className:"checkbox-list"},(0,n.createElement)("div",{className:"checkbox-list-col"},c().slice(0,Math.floor(s/2))),(0,n.createElement)("div",{className:"checkbox-list-col"},c().slice(Math.floor(s/2),s)))},_=a(5736),k=a(8297),f=a(6342),w=()=>{const e=(0,c.useViewportMatch)("medium"),[t,a]=(0,n.useState)(),[m,h]=(0,n.useState)(),{setIsDrawerOpened:b,setDrawerActiveView:p,setSidebarActiveView:g,setCurrentOnboardingData:w,setIsDrawerSuppressed:x,setIsHeaderNavigationEnabled:$}=(0,l.useDispatch)(o.h),{currentStep:N,currentData:y,themeVariations:S}=(0,l.useSelect)((e=>({currentStep:e(o.h).getCurrentStep(),currentData:e(o.h).getCurrentOnboardingData(),themeVariations:e(o.h).getStepPreviewData()})),[]);(0,n.useEffect)((()=>{e&&b(!1),g(r.Jq),x(!1),p(r.tM),$(!0),async function(){const e=await(0,d.yn)();(0,s.isEmpty)(y?.data?.siteFeatures)?async function(e,t=!1){const n={};for(const t in e){const a=e[t];n[a.slug]=a.selected}a(n),t&&(y.data.siteFeatures={...n},w(y))}(e.body,!0):a({...y?.data?.siteFeatures}),h(e.body)}()}),[]);const D={heading:(0,_.__)("Key features to supercharge your site","wp-module-onboarding"),subheading:(0,_.__)("Our toolbox of Plugins & Services is your toolbox.","wp-module-onboarding")};return(0,n.createElement)(i.Z,null,(0,n.createElement)("div",{style:{margin:"100px"}},(0,n.createElement)(u.Z,{title:D.heading,subtitle:D.subheading})),!m&&(0,n.createElement)(E,{count:S[N?.patternId]?.previewCount}),m&&(0,n.createElement)(v,{callback:async function(e,n){const s={...t};s[e]=n,a(s),y.data.siteFeatures={...s},w(y),!0===n&&(0,k.tH)(new k.Z_(f.IV,e))},selectedItems:t,customItemsList:m}))}}}]);